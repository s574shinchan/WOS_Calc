<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ğŸ« íŒ¨í‚¤ì§€êµ¬ì„± | WOS ê³„ì‚°ê¸°</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
  <body class="bg-gray-100 p-2 font-sans text-sm">
    <div class="max-w-6xl mx-auto bg-white p-2 rounded-xl shadow-md space-y-5"> 
      <!-- ë’¤ë¡œê°€ê¸° ë²„íŠ¼ -->
      <button onclick="loadPage('menu.html')" class="mb-4 flex items-center text-blue-600 hover:underline">
        <svg class="w-5 h-5 mr-1" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7" />
        </svg>
        ë©”ë‰´ë¡œ ëŒì•„ê°€ê¸°
      </button>
      <h1 class="text-2xl font-bold text-gray-800 mb-4">ğŸ“˜ WOS ìë£Œëª¨ìŒ</h1>
      <div id="GuideGridBody" class="grid grid-cols-2 gap-4"></div>

      <!-- ğŸ§¬ ì„¸ëŒ€ë³„ ì˜ì›… íŠ¹ì„± -->
      <details class="bg-white border border-indigo-300 rounded-md p-4">
        <summary class="cursor-pointer text-lg font-bold text-indigo-700 mb-2">ğŸ§¬ ì„¸ëŒ€ë³„ ì˜ì›… íŠ¹ì„±</summary>
        <div id="HeroTable" class="mt-3 overflow-x-auto">
          <p class="text-gray-500 text-sm">ğŸ“¦ ë°ì´í„° ë¡œë”© ì¤‘...</p>
        </div>
      </details>

      <!-- âš”ï¸ SVS_Event -->
      <details class="bg-white border border-amber-400 rounded-md p-4">
        <summary class="cursor-pointer text-lg font-bold text-amber-700 mb-2">âš”ï¸ SVS Event</summary>
        <div id="SVSTable" class="mt-3 overflow-x-auto">
          <p class="text-gray-500 text-sm">ğŸ“¦ ë°ì´í„° ë¡œë”© ì¤‘...</p>
        </div>
      </details>
      
      <!-- ğŸ›« ì´ë¯¼ ì‹œìŠ¤í…œ ì•ˆë‚´ -->
      <details class="bg-white border border-gray-300 rounded-md p-4">
        <summary class="cursor-pointer text-lg font-bold text-blue-700 mb-2">ğŸ›« ì´ë¯¼ ì‹œìŠ¤í…œ ì•ˆë‚´</summary>
        <div id="Tranfer" class="mt-3 space-y-4 text-sm text-gray-800">
          <p class="text-gray-500 text-sm">ğŸ“¦ ë°ì´í„° ë¡œë”© ì¤‘...</p>
        </div>
      </details>
      
      <!-- ğŸ§ª í—¬ë¦¬ì˜¤ìŠ¤ ì—°êµ¬ ì°¸ê³ ìë£Œ ì„¹ì…˜ -->
      <!--
      <details class="bg-white border border-red-300 rounded-md p-4">
        <summary class="cursor-pointer text-lg font-bold text-red-600 mb-2">ğŸ§ª í—¬ë¦¬ì˜¤ìŠ¤(T11)</summary>
        <div class="mt-3">
          <img src="https://raw.githubusercontent.com/s574shinchan/WOS_Calc/7b8601795ff8a85932540f79e4bda456044026e8/images/T11Research.png"
               alt="í—¬ë¦¬ì˜¤ìŠ¤ ì°¸ê³  ì´ë¯¸ì§€"
               class="w-full mx-auto rounded shadow"
            />
        </div>
      </details>    
      -->
      
      <!-- ğŸ“¦ ê°ì¢… íŒ¨í‚¤ì§€ êµ¬ì„± ì„¹ì…˜ -->
      <details class="bg-white border border-gray-300 rounded-md p-4">
        <summary class="cursor-pointer text-lg font-bold text-purple-700 mb-2">ğŸ“¦ ê°ì¢… íŒ¨í‚¤ì§€ êµ¬ì„±</summary>
        <div class="mt-3 space-y-4 text-sm text-gray-800">
          
          <!-- íŒ¨í‚¤ì§€ ìš”ì¼êµ¬ì„± -->
          <details class="bg-white border border-purple-300 rounded-md p-4">
            <summary class="cursor-pointer text-lg font-bold text-purple-700 mb-2">ğŸ“… íŒ¨í‚¤ì§€ë“±ì¥ ìš”ì¼</summary>
            <div id="pakageYoil" class="space-y-4 text-sm text-gray-800 mt-2">
              <p class="text-gray-500 text-sm">ğŸ“¦ ë°ì´í„° ë¡œë”© ì¤‘...</p>
            </div>
          </details>
          
          <!-- ì „ìš©ë¬´ê¸°íŒ¨í‚¤ì§€ -->
          <details class="bg-white border border-purple-300 rounded-md p-4">
            <summary class="cursor-pointer text-lg font-bold text-purple-700 mb-2">ğŸ—¡ ì „ìœµë¬´ê¸° íŒ¨í‚¤ì§€</summary>
            <div id="EnhanceGear" class="space-y-4 text-sm text-gray-800 mt-2">
              <p class="text-gray-500 text-sm">ğŸ“¦ ë°ì´í„° ë¡œë”© ì¤‘...</p>
            </div>
          </details>
          
          <!-- ì»¤ìŠ¤í…€ìƒì íŒ¨í‚¤ì§€-->
          <details class="bg-white border border-orange-300 rounded-md p-4">
            <summary class="cursor-pointer text-lg font-bold text-orange-700 mb-2">ğŸ“¦ ì»¤ìŠ¤í…€ìƒì íŒ¨í‚¤ì§€</summary>
            <div id="customContianer" class="space-y-6 mt-2">
              <p clase="text-gray-500 text-sm">ğŸ“¦ ë°ì´í„° ë¡œë”© ì¤‘...</p>
            </div>
          </details>
          
          <!-- ğŸ› ï¸ ì»¤ìŠ¤í…€ ë¬´ê¸°ìƒì íŒ¨í‚¤ì§€ -->
          <details class="bg-white border border-orange-300 rounded-md p-4">
            <summary class="cursor-pointer text-lg font-bold text-orange-700 mb-2">ğŸ› ï¸ ì»¤ìŠ¤í…€ ë¬´ê¸°ìƒì íŒ¨í‚¤ì§€</summary>
            <div id="customweapon" class="space-y-6 mt-2">
              <p clase="text-gray-500 text-sm">ğŸ“¦ ë°ì´í„° ë¡œë”© ì¤‘...</p>
            </div>
          </details>
                    
          <!-- ğŸ’ ë³´ì„ë§ˆìŠ¤í„° íŒ¨í‚¤ì§€ êµ¬ì„± -->
          <details class="bg-white border border-purple-300 rounded-md p-4">
            <summary class="cursor-pointer text-lg font-bold text-purple-700 mb-2">ğŸ’ ë³´ì„ë§ˆìŠ¤í„° íŒ¨í‚¤ì§€</summary>
            <div id="gemPakage" class="space-y-4 text-sm text-gray-800 mt-2">
              <p class="text-gray-500 text-sm">ğŸ“¦ ë°ì´í„° ë¡œë”© ì¤‘...</p>
            </div>
          </details>
  
          <!-- ğŸ’  ë³´ì„ë¹„ì „ íŒ¨í‚¤ì§€ -->
          <details class="bg-white border border-purple-300 rounded-md p-4">
            <summary class="cursor-pointer text-lg font-bold text-purple-700 mb-2">ğŸ’  ë³´ì„ë¹„ì „ íŒ¨í‚¤ì§€</summary>
            <div id="visionPakage" class="mt-2">
              <p clase="text-gray-500 text-sm">ğŸ“¦ ë°ì´í„° ë¡œë”© ì¤‘...</p>
            </div>
          </details>
        </div>
      </details>
      
      <script>
        let lastSentHeight = 0;
        
        function sendHeightToParent(height) {
          lastSentHeight = height;
          window.parent.postMessage({ type: "SET_FRAME_SIZE", height: height + "px" }, "*");
        }
      
        function adjustFrameHeight(onOpen) {
          const currentHeight = document.documentElement.scrollHeight;
          const adjustedHeight = onOpen
            ? currentHeight + 100 // ì—´ë¦´ ë•Œ ì—¬ìœ  ê³µê°„ ì¶”ê°€
            : currentHeight - 100; // ë‹«í ë•ŒëŠ” ì¤„ì„ (ë˜ëŠ” ì›ë˜ëŒ€ë¡œ)
          
          sendHeightToParent(adjustedHeight);
        }
      
        window.addEventListener("load", () => {
          sendHeightToParent(document.documentElement.scrollHeight);
        });
              
        document.querySelectorAll("details").forEach(detail => {
          detail.addEventListener("toggle", () => {          
            setTimeout(() => {
              adjustFrameHeight(detail.open); // ì—´ë¦¼ ìƒíƒœì— ë”°ë¼ ì¡°ì ˆ
            }, 300); // ì• ë‹ˆë©”ì´ì…˜ í›„ ì •í™•í•œ ë†’ì´ ë°˜ì˜
          });
        });
        
        function loadPage(page) {
          const isMobile = window.innerWidth <= 768;
          const height = isMobile ? "550px" : "345px"
          window.location.href = page;
          window.parent.postMessage({ type: "SET_FRAME_SIZE", height: height, width: "100%"}, "*");
        }
      </script>
      
      <script>
        let herotable = false;
        let tranfer = false;
        let gemPakage = false;
        let visionPakage = false;
        let customPakage = false;
        let svstable = false;
        let pakageYoil = false;
        let customweapon = false;
        let EnhanceGear = false;
        
        // ëª¨ë“  summary ìš”ì†Œì— ëŒ€í•´ ì´ë²¤íŠ¸ ë°”ì¸ë”©
        document.querySelectorAll('details').forEach(detail => {
          detail.addEventListener('toggle', async () => {

            //ì„¸ëŒ€ë³„ ì˜ì›…íŠ¹ì„±
            if (detail.querySelector('#HeroTable') && !herotable && detail.open) {
              const container = document.getElementById('HeroTable');
              try {
                const response = await fetch('https://s574shinchan.github.io/WOS_Calc/data/genhero.html');
                if (!response.ok) throw new Error('íŒŒì¼ ìš”ì²­ ì‹¤íŒ¨');
      
                const html = await response.text();
                container.innerHTML = html;
                herotable = true;
              } catch (e) {
                container.innerHTML = `<p class="text-red-500">âš ï¸ í…Œì´ë¸” ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.</p>`;
              }
            }

            //SVS
            if (detail.querySelector('#SVSTable') && !svstable && detail.open) {
              const container = document.getElementById('SVSTable');
              try {
                const response = await fetch('https://s574shinchan.github.io/WOS_Calc/data/SVS_Event.html');
                if (!response.ok) throw new Error('íŒŒì¼ ìš”ì²­ ì‹¤íŒ¨');
      
                const html = await response.text();
                container.innerHTML = html;
                svstable = true;
              } catch (e) {
                container.innerHTML = `<p class="text-red-500">âš ï¸ í…Œì´ë¸” ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.</p>`;
              }
            }

            //ì™•êµ­ì´ë¯¼
            if (detail.querySelector('#Tranfer') && !tranfer && detail.open) {
              const container = document.getElementById('Tranfer');
              if (tranfer) return;
          
              try {
                const response = await fetch('https://s574shinchan.github.io/WOS_Calc/data/StatusTransfer.html');
                if (!response.ok) throw new Error('íŒŒì¼ ìš”ì²­ ì‹¤íŒ¨');
          
                const html = await response.text();
                container.innerHTML = html;
                tranfer = true;
              } catch (e) {
                container.innerHTML = `<p class="text-red-500">âš ï¸ í…Œì´ë¸” ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.</p>`;
              }
            }

            //ë³´ì„ë§ˆìŠ¤í„°
            if (detail.querySelector('#gemPakage') && !gemPakage && detail.open) {
              const container = document.getElementById('gemPakage');
              if (gemPakage) return;
          
              try {
                const response = await fetch('https://s574shinchan.github.io/WOS_Calc/data/gempakage.html');
                if (!response.ok) throw new Error('íŒŒì¼ ìš”ì²­ ì‹¤íŒ¨');
          
                const html = await response.text();
                container.innerHTML = html;
                gemPakage = true;
              } catch (e) {
                container.innerHTML = `<p class="text-red-500">âš ï¸ í…Œì´ë¸” ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.</p>`;
              }
            }
            
            //ë³´ì„ë¹„ì „
            if (detail.querySelector('#visionPakage') && !visionPakage && detail.open) {
              const container = document.getElementById('visionPakage');
              if (visionPakage) return;
          
              try {
                const response = await fetch('https://s574shinchan.github.io/WOS_Calc/data/visionpakage.html');
                if (!response.ok) throw new Error('íŒŒì¼ ìš”ì²­ ì‹¤íŒ¨');
          
                const html = await response.text();
                container.innerHTML = html;
                visionPakage = true;
              } catch (e) {
                container.innerHTML = `<p class="text-red-500">âš ï¸ í…Œì´ë¸” ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.</p>`;
              }
            }

            //ì»¤ìŠ¤í…€íŒ¨í‚¤ì§€
            if (detail.querySelector('#customContianer') && !customPakage && detail.open){
              const container = document.getElementById('customContianer');
              if (customPakage) return;
          
              try {
                const response = await fetch('https://s574shinchan.github.io/WOS_Calc/data/custompakage.html');
                if (!response.ok) throw new Error('íŒŒì¼ ìš”ì²­ ì‹¤íŒ¨');
          
                const html = await response.text();
                container.innerHTML = html;
                customPakage = true;
              } catch (e) {
                container.innerHTML = `<p class="text-red-500">âš ï¸ í…Œì´ë¸” ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.</p>`;
              }
            }

            //ì»¤ìŠ¤í…€ë¬´ê¸°ìƒì
            if (detail.querySelector('#customweapon') && !customweapon && detail.open){
              const container = document.getElementById('customweapon');
              if (customweapon) return;
          
              try {
                const response = await fetch('https://s574shinchan.github.io/WOS_Calc/data/ì»¤ìŠ¤í…€ë¬´ê¸°.html');
                if (!response.ok) throw new Error('íŒŒì¼ ìš”ì²­ ì‹¤íŒ¨');
          
                const html = await response.text();
                container.innerHTML = html;
                customweapon = true;
              } catch (e) {
                container.innerHTML = `<p class="text-red-500">âš ï¸ í…Œì´ë¸” ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.</p>`;
              }
            }
            
            //íŒ¨í‚¤ì§€ìš”ì¼
            if (detail.querySelector('#pakageYoil') && !pakageYoil && detail.open){
              const container = document.getElementById('pakageYoil');
              if (pakageYoil) return;
          
              try {
                const response = await fetch('https://s574shinchan.github.io/WOS_Calc/data/íŒ¨í‚¤ì§€ìš”ì¼.html');
                if (!response.ok) throw new Error('íŒŒì¼ ìš”ì²­ ì‹¤íŒ¨');
          
                const html = await response.text();
                container.innerHTML = html;
                pakageYoil = true;
              } catch (e) {
                container.innerHTML = `<p class="text-red-500">âš ï¸ í…Œì´ë¸” ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.</p>`;
              }
            }

            //ì „ìš©ë¬´ê¸°
            if (detail.querySelector('#EnhanceGear') && !EnhanceGear && detail.open){
              const container = document.getElementById('EnhanceGear');
              if (EnhanceGear) return;
          
              try {
                const response = await fetch('https://s574shinchan.github.io/WOS_Calc/data/ì „ìš©ë¬´ê¸°.html');
                if (!response.ok) throw new Error('íŒŒì¼ ìš”ì²­ ì‹¤íŒ¨');
          
                const html = await response.text();
                container.innerHTML = html;
                EnhanceGear = true;
              } catch (e) {
                container.innerHTML = `<p class="text-red-500">âš ï¸ í…Œì´ë¸” ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.</p>`;
              }
            }

            
          });
        });
      </script>
  
      <script>
      document.addEventListener("contextmenu", event => event.preventDefault());
      document.addEventListener("keydown", function (e) {
        if (e.key === "F12" ||
            (e.ctrlKey && e.shiftKey && (e.key === "I" || e.key === "J")) ||
            (e.ctrlKey && (e.key === "U" || e.key === "S")))
        {
          e.preventDefault();
        }
      });
    </script>
  </body>
</html>
