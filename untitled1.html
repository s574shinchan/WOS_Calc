<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ì„¸ëŒ€ë³„ ì˜ì›… íŠ¹ì„± (expert.html ìŠ¤íƒ€ì¼: [ì´ë¯¸ì§€][íŠ¹ì„±] + [ìŠ¤í‚¬])</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* âœ… ê°€ë¡œ ìŠ¤í¬ë¡¤ ë°©ì§€(í˜ì´ì§€ ì°¨ì›) */
    html, body { max-width:100%; overflow-x:hidden; }

    body.dark-mode{background:#121212;color:#f0f0f0}
    .dark-mode .border{border-color:#444!important}
    .dark-mode .shadow{box-shadow:none!important}

    /* ì„¸ëŒ€ ì˜ì—­ */
    .gen-wrap{background:#252525}

    /* ì˜ì›… ë³¸ì²´ ì¹´ë“œ(1ì¥) */
    .hero-card{background:#1f1f1f}

    /* íƒ­ ë²„íŠ¼ */
    .tabbtn{
      background:rgba(255,255,255,.06);
      border:1px solid rgba(255,255,255,.18);
      color:rgba(255,255,255,.85);
      font-size:12px;
      padding:6px 10px;
      border-radius:10px;
      line-height:1;
      white-space:nowrap;
    }
    .tabbtn:hover{background:rgba(255,255,255,.10)}
    .tabbtn.active{background:rgba(255,255,255,.16);border-color:rgba(255,255,255,.28);color:#fff}

    /* íŠ¹ì„± í…ìŠ¤íŠ¸: ì „ë¶€ ë™ì¼, ë³¼ë“œ X */
    .trait-text{font-weight:400}

    /* âœ… ì„¸ëŒ€ ë‚´ë¶€ ê·¸ë¦¬ë“œ: 1ì„¸ëŒ€ 4ëª… => 2x2 */
    .heroes-grid{
      display:grid;
      grid-template-columns:repeat(2, minmax(0, 1fr));
      gap:12px;
      align-items:start;
    }
    @media (max-width: 980px){
      .heroes-grid{ grid-template-columns: 1fr; }
    }
  </style>
</head>

<body class="p-4 md:p-6 bg-white">

  <div class="max-w-[1500px] mx-auto bg-white rounded shadow p-2 flex flex-col sm:flex-row gap-2">
    <div id="guideDetails" class="flex-1 bg-white rounded p-2 space-y-4 shadow">
      <div class="bg-gray-100 p-2 font-sans text-sm">
        <div class="max-w-[1500px] mx-auto bg-white p-2 rounded-xl shadow-md space-y-10">
          <div class="space-y-4">
            <h1 class="text-2xl font-bold text-gray-800 mb-4">ğŸ“˜ ìë£Œëª¨ìŒ</h1>
              <details class="border border-blue-300 rounded-md p-4 shadow" open>
                <summary class="cursor-pointer text-lg font-semibold text-blue-700">ğŸ§¬ ì„¸ëŒ€ë³„ ì˜ì›… íŠ¹ì„±</summary>
                <div id="genDetailsWrap" class="overflow-x-auto w-full mt-4"></div>
              </details>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    // ===== ìƒ˜í”Œ ë°ì´í„° =====
    const HEROES = [
      {
        gen:1, 
        name:"ì œë¡œë‹ˆëª¨", 
        key:"geronimo",
        badge:"infantry",
        classText:"ë°©íŒ¨ Â· ì§‘ê²°(ê³µì„±)", 
        source:"VIPíŒ©/ìµœê°•ì˜ì£¼",
        heroStat:"260.2%", 
        weaponStat:"62.5%", 
        weaponFx:"ê³µê²©ë ¥ 15%",
        tabs:[
          { 
            key:"explore", 
            label:"íƒí—˜", 
            skills:[
              { key:"L1", title:"ì‚¼ë‹¨ ë² ê¸°", desc:"ì¼ì • ë²”ìœ„ ì•ˆì˜ ì ì„ ë“¤ì–´ì˜¬ë ¤ 3ì°¨ë¡€ ë² ê³ , ë§¤ë²ˆ ê³µê²©ë ¥ 160%/176%/192%/208%/224%ì˜ í”¼í•´ë¥¼ ì…íŒë‹¤." },
              { key:"L2", title:"ê²€ê¸°", desc:"ì¼ë°˜ ê³µê²©ë§ˆë‹¤ ê²€ê¸°ë¥¼ ì‹œì „í•´ì„œ ì „ë°© ì§ì‚¬ê°í˜• ë²”ìœ„ ë‚´ ì ì—ê²Œ ê³µê²©ë ¥ 15%/17%/19%/21%/23%ì˜ í”¼í•´ë¥¼ ì…íŒë‹¤." },
              { key:"L3", title:"ê±°ë§Œí•¨", desc:"ë„ë„í•œ ì œë¡œë‹ˆëª¨ëŠ” ìˆœí’ì´ ë¶ˆ ë•Œ ë”ìš± ê°•í•´ì§„ë‹¤. HPê°€ 50% ì´ìƒì¼ ë•Œ ê³µê²©ë ¥ì´ 16%/24%/32%/40%/48% í–¥ìƒëœë‹¤." },
            ]
          },
          { 
            key:"expedition", 
            label:"ì›ì •", 
            skills:[
              { key:"R1", title:"ì „ìŸ ì„ ì–¸", desc:"ì „íˆ¬ ì „ ì„ í˜ˆë¡œ ì „ì²´ ì•„êµ° ë¶€ëŒ€ê°€ ì…íˆëŠ” í”¼í•´ê°€ 5%/10%/15%/20%/25% ì¦ê°€í•œë‹¤." },
              { key:"R2",title:"ê²€ìˆ  ì§€ë„", desc:"ê²€ìˆ ì˜ ì´ì¹˜ë¥¼ ì „ìˆ˜í•´ ì „ì²´ ì•„êµ° ë¶€ëŒ€ì˜ ê³µê²©ë ¥ì´ 5%/10%/15%/20%/25% ìƒìŠ¹í•œë‹¤." },
              { key:"R3",title:"ì •ë°€ ê²€ìˆ ", desc:"4ë¼ìš´ë“œë§ˆë‹¤ ì „ì²´ ì•„êµ° ë¶€ëŒ€ê°€ ì£¼ëŠ” í”¼í•´ë¥¼ 6%/12%/18%/24%/30% ì¦ê°€(2ë¼ìš´ë“œ ì§€ì†)." },
            ]
          },
          { 
            key:"trait", 
            label:"íŠ¹ì„±", 
            skills:[
              { key:"Special", title:"íƒ€ê³ ë‚œ ì§€ë„ì", desc:"ì¹´ë¦¬ìŠ¤ë§ˆê°€ ì „ì²´ êµ°ì— ì˜í–¥ì„ ë¯¸ì³ ì œë¡œë‹ˆëª¨ì˜ ì¶œì • ì—¬ë¶€ì™€ ìƒê´€ì—†ì´ ì „ì²´ ì•„êµ° ë¶€ëŒ€ì˜ íŒŒê´´ë ¥ê³¼ HPê°€ 3%/6%/9%/12%/15% ì¦ê°€í•©ë‹ˆë‹¤." },
            ]
          },
        ]
      },
      { 
        gen:1, 
        name:"ë‚˜íƒˆë¦¬ì•„", 
        key:"natalia",
        badge:"infantry", 
        classText:"ë°©íŒ¨ Â· ì§‘ê²°(ê³µì„±)", 
        source:"VIP", 
        heroStat:"200.2%", 
        weaponStat:"50.0%", 
        weaponFx:"íŒŒê´´ë ¥ 15%",
        tabs:[ 
          {
            key:"explore",
            label:"íƒí—˜",
            skills:[
              { key:"L1", title:"ë¹„ìŠ¤íŠ¸ ì–´íƒ", desc:"ë¶ê·¹ê³°ì´ ëª¸ì„ ì¼ìœ¼ì¼°ë‹¤ê°€ ê°•í•˜ê²Œ ë•…ì„ ë‚´ë¦¬ì³ ê³µê²©ë ¥ 160%/176%/192%/208%/224% ì˜ ë²”ìœ„ í”¼í•´ë¥¼ ì…íˆê³ , ë²”ìœ„ ë‚´ ëª¨ë“  ì ì„ ë„‰ë°±ì‹œì¼œ 1ì´ˆê°„ ìŠ¤í„´ì‹œí‚¨ë‹¤." },
              { key:"L2", title:"ì±„ì°ì§ˆ ", desc:"ì±„ì°ì„ íœ˜ë‘˜ëŸ¬ì„œ ëª©í‘œë¬¼ì—ê²Œ ê³µê²©ë ¥ 150%/165%/180%/195%/210% ì˜ í”¼í•´ë¥¼ ì…íŒë‹¤." },
              { key:"L3", title:"ë ˆì¸ì§€ ë¦¬ìŠ¤í°", desc:"ìƒëŒ€í•˜ê¸° ì–´ë ¤ìš´ ë°±ê³°ê³¼ ê·¸ì˜ ì§. í”¼í•´ë¥¼ ì…ì„ ë•Œ ë‚˜íƒˆë¦¬ì•„ì˜ ê³µê²©ë ¥ì´ 10% í™•ë¥ ë¡œ + 4%/6%/8%/10%/12% í–¥ìƒëœë‹¤. ì§€ì†ì‹œê°„ 3ì´ˆ(ìµœëŒ€ 5ê°œ ì¤‘ì²©). " },
            ]
          }, 
          {
            key:"expedition",
            label:"ì›ì •",
            skills:[
              { key:"R1", title:"ì•¼ì„± ìˆ˜í˜¸", desc:"ì „íˆ¬ ì „ ì„ í˜ˆë¡œ ì „ì²´ ì•„êµ° ë¶€ëŒ€ê°€ ì…íˆëŠ” í”¼í•´ê°€ 5%/10%/15%/20%/25% ì¦ê°€í•œë‹¤." },
              { key:"R2",title:"ë¹„ìŠ¤íŠ¸ ë¡œë“œ", desc:"ê²€ìˆ ì˜ ì´ì¹˜ë¥¼ ì „ìˆ˜í•´ ì „ì²´ ì•„êµ° ë¶€ëŒ€ì˜ ê³µê²©ë ¥ì´ 5%/10%/15%/20%/25% ìƒìŠ¹í•œë‹¤." },
              { key:"R3",title:"ì•¼ì„±ì˜ ë¶€ë¦„", desc:"4ë¼ìš´ë“œë§ˆë‹¤ ì „ì²´ ì•„êµ° ë¶€ëŒ€ê°€ ì£¼ëŠ” í”¼í•´ë¥¼ 6%/12%/18%/24%/30% ì¦ê°€(2ë¼ìš´ë“œ ì§€ì†)." },
           ]
          },
          { 
            key:"trait", 
            label:"íŠ¹ì„±", 
            skills:[
              { key:"Special", title:"ë°±ê³°ì˜ í˜", desc:"ì „êµ°ì— ë°±ê³°ê³¼ ê°™ì€ ìš©ê¸°ì™€ í˜ì„ ì¤ë‹ˆë‹¤. ë‚˜íƒˆë¦¬ì•„ì˜ ì¶œì • ì—¬ë¶€ì™€ ìƒê´€ì—†ì´ ì „ì²´ ì•„êµ° ë¶€ëŒ€ì˜ ê³µê²©ë ¥, ë°©ì–´ë ¥ 2%/4%/6%/8%/10% ì¦ê°€í•©ë‹ˆë‹¤." },
            ]
          },          
        ]
      },
      { gen:1, name:"ëª°ë¦¬", badge:"lancer", classText:"ì°½ë³‘ Â· ìˆ˜ì„±", source:"ì˜ì›…ì˜ í™€", heroStat:"200.2%", weaponStat:"50.0%", weaponFx:"íŒŒê´´ë ¥ 15%",
        tabs:[ {key:"explore",label:"íƒí—˜",skills:[]}, {key:"expedition",label:"ì›ì •",skills:[]} ]
      },
      { gen:1, name:"ì§„ë¨¼", badge:"marksman", classText:"ê¶ë³‘ Â· ìˆ˜ì„±", source:"í–‰ìš´ì˜ ë£°ë ›", heroStat:"200.2%", weaponStat:"50.0%", weaponFx:"ê³µê²©ë ¥ 15%",
        tabs:[ {key:"explore",label:"íƒí—˜",skills:[]}, {key:"expedition",label:"ì›ì •",skills:[]} ]
      },
    ];

    // ===== util =====
    function groupByGen(list){
      const m = new Map();
      for (const h of list){
        if (!m.has(h.gen)) m.set(h.gen, []);
        m.get(h.gen).push(h);
      }
      return [...m.entries()].sort((a,b)=>a[0]-b[0]);
    }
    function safeTabs(hero){
      const tabs = (hero.tabs||[]).filter(t=>t && t.key && t.label);
      return tabs.length ? tabs : [{key:"info",label:"ì •ë³´",skills:[]}];
    }
    
    function skillGrad(tabKey){
      if (tabKey==="explore") return "from-violet-400 to-purple-700";
      if (tabKey==="expedition") return "from-indigo-400 to-indigo-700";
      if (tabKey==="trait") return "from-amber-400 to-orange-700";
      return "from-slate-400 to-slate-700";
    }

    function renderSkillRow(hero, skill){
      return `
        <div class="flex gap-3 items-start">
          <!-- ìŠ¤í‚¬ ì•„ì´ì½˜ -->
          <img
            src="images/hero/skills/${hero.key}/${skill.key}.webp"
            onerror="this.onerror=null; this.style.display='none';"
            class="w-11 h-11 object-contain shrink-0"
            alt="${skill.title}"
          />

          <!-- í…ìŠ¤íŠ¸ -->
          <div class="min-w-0">
            <div class="text-sm text-white">
              ${skill.title || "ìŠ¤í‚¬"}
            </div>
            <div class="mt-0.5 text-xs text-white/80 leading-relaxed">
              ${skill.desc || ""}
            </div>
          </div>
        </div>
      `;
    }
    
    function badgeIconSrc(hero){
      const b = hero.badge || "";
      if (b.includes("infantry")) return "images/hero/icon_infantry.webp";
      if (b.includes("lancer")) return "images/hero/icon_lancer.webp";
      if (b.includes("marksman")) return "images/hero/icon_marksman.webp";
      return "/images/hero/icon_default.webp";
    }
    
    // âœ… 1ì˜ì›…=1ì¹´ë“œ, ë‚´ë¶€ëŠ” [ì´ë¯¸ì§€][íŠ¹ì„±] + [ìŠ¤í‚¬] (expert.html ìŠ¤íƒ€ì¼)
    function renderHeroCard(hero, idx){
      const uid = `hero-${hero.gen}-${idx}-${Math.random().toString(16).slice(2)}`;
      const tabs = safeTabs(hero);

      const tabsHtml = tabs.map((t,i)=>`
        <button type="button" class="tabbtn ${i===0?"active":""}" data-tab="${t.key}">
          ${t.label}
        </button>
      `).join("");

      const panelsHtml = tabs.map((t,i)=>{
        const skills = Array.isArray(t.skills) ? t.skills : [];
        const body = skills.length
          ? `<div class="mt-2 space-y-2">${skills.map(s => renderSkillRow(hero, s)).join("")}</div>`
          : `<div class="mt-2 rounded-xl p-3 text-white/70 text-xs" style="border:1px solid rgba(255,255,255,.10);">ìŠ¤í‚¬ ë°ì´í„°/ì´ë¯¸ì§€ ì¤€ë¹„ì¤‘</div>`;
        return `<div class="hero-panel ${i===0?"":"hidden"}" data-panel="${t.key}">${body}</div>`;
      }).join("");

      return `
        <div id="${uid}" class="hero-card rounded-2xl border border-white/10 p-3 text-white">
          <!-- (1í–‰) [ì´ë¯¸ì§€] [íŠ¹ì„±] -->
          <div class="grid grid-cols-[140px_1fr] gap-3 items-start">
            <!-- ì´ë¯¸ì§€(ì‘ê²Œ) -->
            <div class="rounded-xl overflow-hidden" style="border:1px solid rgba(255,255,255,.10);">
              <!-- ğŸ”¥ ì´ ë¶€ë¶„ì´ ì˜ì›… ì´ë¯¸ì§€ -->            
              <img
                src="images/hero/${hero.key}.webp"
                onerror="this.onerror=null; this.src='images/hero/${hero.key}.png';"
                alt="${hero.name}"
                class="w-[150px] h-[150px] object-cover"
              />
              <div class="px-3 py-2 bg-black/40">
                <div class="flex items-center justify-center gap-2 text-sm text-center">
                  <img
                    src="${badgeIconSrc(hero)}"
                    onerror="this.onerror=null; this.src='images/hero/icon_default.webp';"
                    alt="type"
                    class="w-5 h-5 object-contain flex items-center justify-center"
                  />
                  <span class="text-l">${hero.name || ""}</span>
                </div>
              </div>
            </div>

            <!-- íŠ¹ì„±(ì¹´ë“œ/ë°•ìŠ¤ ë¶ˆí•„ìš” â†’ ê·¸ëƒ¥ í…ìŠ¤íŠ¸) -->
            <div class="trait-text text-sm leading-relaxed">
              <div class="text-white/90">ì„¸ëŒ€ : ${hero.gen}ì„¸ëŒ€</div>
              <div class="mt-1 text-white/90">êµ¬ë¶„ : ${hero.classText||"-"}</div>
              <div class="text-white/90">íšë“ì²˜ : ${hero.source||"-"}</div>
              <div class="text-white/90">ì˜ì›… ê³µ/ë°© : ${hero.heroStat||"-"}</div>
              <div class="text-white/90">ì „ìš©ë¬´ê¸° : ${hero.weaponStat||"-"}</div>
              <div class="text-white/90">ë¬´ê¸°íš¨ê³¼ : ${hero.weaponFx||"-"}</div>
            </div>
          </div>

          <!-- (2í–‰) [ìŠ¤í‚¬] (íƒ­ í¬í•¨) -->
          <div class="flex items-center gap-2 flex-wrap mt-4">
            ${tabsHtml}
          </div>
          ${panelsHtml}
        </div>
      `;
    }

    function bindTabs(root){
      root.querySelectorAll("[id^='hero-']").forEach(card=>{
        const btns = card.querySelectorAll("button[data-tab]");
        const panels = card.querySelectorAll(".hero-panel");
        if (!btns.length || !panels.length) return;

        btns.forEach(btn=>{
          btn.addEventListener("click", ()=>{
            const key = btn.dataset.tab;
            btns.forEach(b=>b.classList.remove("active"));
            btn.classList.add("active");
            panels.forEach(p=>p.classList.toggle("hidden", p.dataset.panel !== key));
          });
        });
      });
    }

    function renderAll(){
      const wrap = document.getElementById("genDetailsWrap");
      const groups = groupByGen(HEROES);

      wrap.innerHTML = groups.map(([gen, list])=>`
        <details class="rounded-2xl border border-white/10 overflow-hidden" open>
          <summary class="cursor-pointer select-none px-4 py-3 flex items-center justify-between bg-[#2f2f2f] text-white">
            <div class="flex items-center gap-2 font-semibold">
              <span>${gen}ì„¸ëŒ€</span>
            </div>
          </summary>

          <div class="p-3 gen-wrap">
            <!-- âœ… 1ì„¸ëŒ€ 4ëª… => 2x2 -->
            <div class="heroes-grid">
              ${list.map((h, idx)=>renderHeroCard(h, idx)).join("")}
            </div>
          </div>
        </details>
      `).join("");

      bindTabs(wrap);
    }

    renderAll();
  </script>
</body>
</html>
