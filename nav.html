<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body>
    <div class="topbar">
      <div class="nav">
        <div class="text-center">
          <img src="images/NewLogo.webp" alt="logo"
               class="mx-auto w-16 drop-shadow-lg cursor-pointer"/>
        </div>

        <div class="flex flex-col gap-1">
          <span class="text-2xl font-bold">WOS 계산기</span>
<!--          <div class="flex">
             ✅ 운영지원 버튼 
            <button id="supportOpenBtn"
                    type="button"
                    class="block flex mt-1 px-3 py-1 rounded-md shadow text-[15px] items-center
                           gap-2 bg-slate-600 text-white justify-center w-full">
              문의/후원
            </button>
          </div>-->
        </div>

        <!-- Support Badge + Toast Wrapper -->
        <div data-support class="relative">
          <!-- Support Badge -->
          <div class="inline-flex items-center gap-2 bg-slate-600 text-white text-xs px-3 py-1 rounded-md shadow">
            <span class="opacity-80"> Support :</span>
            <span data-support-number id="supportNumber" class="font-bold tracking-wide">67331703</span>

            <!-- 복사 버튼 -->
            <button data-support-copy id="copyBtn"
                    class="ml-1 bg-slate-700 hover:bg-slate-600 text-white p-1.5 rounded-md transition flex items-center">

              <!-- 책 아이콘 -->
              <svg data-icon-book id="iconBook" xmlns="http://www.w3.org/2000/svg"
                   class="w-3.5 h-3.5"
                   fill="none" viewBox="0 0 24 24"
                   stroke="currentColor" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round"
                      d="M3 19a9 9 0 0 1 9 0a9 9 0 0 1 9 0" />
                <path d="M3 6a9 9 0 0 1 9 0a9 9 0 0 1 9 0" />
                <path d="M3 6l0 13" />
                <path d="M12 6l0 13" />
                <path d="M21 6l0 13" />
              </svg>

              <!-- 체크 아이콘 -->
              <svg data-icon-check id="iconCheck" xmlns="http://www.w3.org/2000/svg"
                   class="w-3.5 h-3.5 hidden"
                   fill="none" viewBox="0 0 24 24"
                   stroke="currentColor" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round"
                      d="M5 13l4 4L19 7" />
              </svg>
            </button>
          </div>

          <!-- ★ Support 아래 표시되는 Toast -->
          <div data-support-toast id="supportToast"
               class="absolute left-1/2 top-[110%] transform -translate-x-1/2
                      bg-emerald-500 text-white text-xs font-semibold
                      px-3 py-2 rounded-lg shadow-lg
                      opacity-0 pointer-events-none whitespace-nowrap
                      transition-opacity duration-300">
            사용자 ID가 복사되었습니다.
          </div>

          <!-- ✅ 컨설팅 버튼 -->
          <button id="consultOpenBtn"
                  type="button"
                  class="block flex mt-1 px-3 py-1 rounded-md shadow text-[15px] items-center
                         gap-2 bg-slate-600 text-white justify-center w-full">
            컨설팅문의
          </button>
        </div>

        <div class="navlist">
          <div class="dd" data-dd>
            <button onclick="ReturnHome()"
                    class="dd-btn" type="button" aria-haspopup="menu" aria-expanded="false">Home</button>
          </div>
          <div class="dd" data-dd>
            <button class="dd-btn" type="button" aria-haspopup="menu" aria-expanded="false">
              계산기<span class="chev" aria-hidden="true"></span>
            </button>
            <div class="dd-menu" role="menu">
              <a class="dd-item"
                 data-page="buildingchoice.partial.html"
                 data-css="css/building.css">건물계산</a>
              <a class="dd-item"
                 data-page="enquirychoice.partial.html"
                 data-css="css/research.css">연구계산</a>
              <a class="dd-item"
                 data-page="experts.partial.html"
                 data-css="css/experts.css">전문가</a>
              <a class="dd-item"
                 data-page="pet.partial.html"
                 data-css="css/pets.css">펫돌파</a>
            </div>
          </div>
          <div class="dd" data-dd>
            <button class="dd-btn" type="button" aria-haspopup="menu" aria-expanded="false">
              영웅장비<span class="chev" aria-hidden="true"></span>
            </button>
            <div class="dd-menu" role="menu">
              <a class="dd-item"
                 data-page="hero_Mithril.partial.html"
                 data-css="css/heroes.css">미스릴</a>
              <a class="dd-item"
                 data-page="hero_Mastery.partial.html"
                 data-css="css/heroes.css">마스터리</a>
            </div>
          </div>
          <div class="dd" data-dd>
            <button class="dd-btn" type="button" aria-haspopup="menu" aria-expanded="false">
              장비 및 보석<span class="chev" aria-hidden="true"></span>
            </button>
            <div class="dd-menu" role="menu">
              <a class="dd-item"
                 data-page="equip.partial.html"
                 data-css="css/heroes.css">영주장비</a>
              <a class="dd-item"
                 data-page="gem.partial.html"
                 data-css="css/gem.css">영주보석</a>
            </div>
          </div>
          <div class="dd" data-dd>
            <button class="dd-btn" type="button" aria-haspopup="menu" aria-expanded="false">
              편의항목<span class="chev" aria-hidden="true"></span>
            </button>
            <div class="dd-menu" role="menu">
              <a class="dd-item"
                 data-page="beartrap.partial.html"
                 data-css="css/beartrap.css">부대계산</a>
              <a class="dd-item"
                 data-page="troop.partial.html"
                 data-css="css/troop.css">병사생산</a>
              <a class="dd-item"
                 data-page="SVS_PreMission.partial.html"
                 data-css="css/svs.css">SVS점수</a>
              <a class="dd-item"
                 data-page="hero_info.partial.html">영웅정보</a>
              <a class="dd-item"
                 data-page="rallytimechk.html"
                 data-css="css/rally.css">집결시간계산</a>
            </div>
          </div>
          <div class="dd" data-dd>
            <button class="dd-btn" type="button" aria-haspopup="menu" aria-expanded="false">
              자료 및 일정<span class="chev" aria-hidden="true"></span>
            </button>
            <div class="dd-menu" role="menu">
              <a class="dd-item"
                 data-page="transfer.partial.html"
                 data-css="css/transfer_partial.css">이민예측</a>
              <a class="dd-item"
                 data-page="schedule.partial.html">주간일정</a>
              <a class="dd-item"
                 data-page="pakage.partial.html">패키지자료</a>
              <a class="dd-item"
                 data-page="imagedata.partial.html">이미지자료</a>
<!--              <a class="dd-item"
                 data-page="transferHistoryChoice.partial.html">이민히스토리</a>-->
            </div>
          </div>
          
          <button id="supportOpenBtn"
                  class="dd-item" type="button" aria-haspopup="menu" aria-expanded="false">
            문의/후원
          </button>
          
          <div class="dd" data-dd>
            <button id="DarkMode"
                    onclick="ActiveDarkMode()"
                    style=" display: flex; align-items: center; justify-content: center; width: 2.5rem; height: 2.5rem;
                           background: rgba(255,255,255,.07);
                           border: 1px solid rgba(255,255,255,.07); border-radius: 0.75rem;
                           color: blue; font-size: 1.3rem;
                           cursor: pointer;">☀️</button>
          </div>
          <div>
            <select id="langSelectPC" class="p-1 border border-gray-300 px-3 py-2 rounded text-sm text-gray-800">
              <option value="index.html" data-lang-link="ko">🌐 Language</option>
              <option value="index.html" data-lang-link="ko" selected>🇰🇷 한국어</option>
              <option value="index_EN.html" data-lang-link="en">🇺🇸 English</option>
              <option value="index_JP.html" data-lang-link="jp">🇯🇵 日本語</option>
            </select>
          </div>
        </div>
      </div>
    </div>

    <!-- ✅ 운영지원/후원 + 컨설팅 공용 팝업 -->
    <div id="supportModal"
         class="fixed inset-0 z-[9999] hidden items-center justify-center">
      <div class="absolute inset-0 bg-black/60" data-close></div>

      <div class="relative bg-[#242424] text-white rounded-xl
                  w-[92%] max-w-md border border-white/10 shadow-xl">
        <div class="px-4 py-3 border-b border-white/10 flex justify-between items-center">
          <span id="popuptitle" class="font-bold text-[16px]">안내사항</span>
          <button type="button" data-close class="opacity-70 hover:opacity-100">✕</button>
        </div>

        <div id="supportContent">
          <div class="px-4 py-4 text-sm leading-relaxed space-y-2">
            <p>
              <b>홈페이지 관련 문의/후원</b>
            </p>
            <ul class="list-disc list-inside text-white/80">
              <li>후원은 <b>자발적이며, 절대 필수가 아닙니다</b></li>
              <li>후원 여부와 관계없이 모든 기능은 동일하게 이용 가능합니다</li>
              <li>문의 / 오류 제보도 동일 채널에서 가능합니다</li>
              <li>후원방법 : 오픈톡입장 후 + 표시 선택 후 송금하기</li>
            </ul>
            <p class="text-xs text-white/60">
              아래 버튼을 누르면 오픈카톡이 새 창으로 열립니다.
            </p>
          </div>
        </div>

        <!-- ✅ 컨설팅 문의용 (기본 hidden) -->
        <div id="consultContent" class="hidden">
          <div class="px-4 py-4 text-sm leading-relaxed space-y-2">
            <p>
              <b>컨설팅 문의</b>
            </p>
            <ul class="list-disc list-inside text-white/80">
              <li>본 채널은 <b>컨설팅 문의 전용</b> 오픈카톡입니다</li>
              <li>어떤 패키지를 사야하는지 고민될 때</li>
              <li>과금을 효율적으로 하고 싶을 때</li>
              <li>과금에 대한 컨설팅이 필요할 때</li>
              <li>게임플레이 방식에 대한 컨설팅이 필요할 때</li>
              <li>그 외 각종 컨설팅이 필요한 경우 연락주세요.</li>
            </ul>
            <p class="text-xs text-white/60">
              * 상황에 따라 즉시 답변이 어려울 수 있습니다.
            </p>
            <p class="text-xs text-white/60">
              아래 버튼을 누르면 컨설팅 문의용 오픈카톡이 새 창으로 열립니다.
            </p>
          </div>
        </div>

        <!-- ✅ Footer 분리: 운영(문의/후원) / 컨설팅 -->
        <div class="px-4 py-3 border-t border-white/10 bg-[#1f1f1f]">
          <!-- 운영용: 취소/문의/후원 -->
          <div id="supportFooter" class="flex justify-end gap-2">
            <button type="button"
                    data-close
                    class="px-4 py-2 rounded-lg border border-white/20 text-sm">
              취소
            </button>
            <button type="button"
                    id="supportInquiryBtn"
                    class="px-4 py-2 rounded-lg bg-sky-500 text-black font-bold text-sm">
              문의
            </button>
            <button type="button"
                    id="supportDonateBtn"
                    class="px-4 py-2 rounded-lg bg-emerald-500 text-black font-bold text-sm">
              후원
            </button>
          </div>

          <!-- 컨설팅용: 취소/확인 -->
          <div id="consultFooter" class="hidden justify-end gap-2">
            <button type="button"
                    data-close
                    class="px-4 py-2 rounded-lg border border-white/20 text-sm">
              취소
            </button>
            <button type="button"
                    id="consultConfirmBtn"
                    class="px-4 py-2 rounded-lg bg-emerald-500 text-black font-bold text-sm">
              확인
            </button>
          </div>
        </div>
      </div>
    </div>

  </body>
</html>
