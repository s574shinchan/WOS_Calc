<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
  <meta name="robots" content="index, follow" />
  <meta name="description" content="화이트아웃 서바이벌(WOS) 전용 계산기 및 각종 자료들이 한곳에!">
  <meta name="google-adsense-account" content="ca-pub-8205102847358210">
  <!-- Open Graph -->
  <meta property="og:type" content="website" />
  <meta property="og:title" content="WOS 계산기 - 재료 및 자원 소모량 계산가능" />
  <meta property="og:description" content="화이트아웃 서바이벌(WOS) 전용 계산기 및 각종 자료모음" />
  <meta property="og:url" content="https://d1xsb5o91gjadf.cloudfront.net/" />
  <meta property="og:image" content="https://raw.githubusercontent.com/s574shinchan/WOS_Calc/e66ed083ba7662f678ff42bcb3d0ee2b03ad3169/images/og-image.png" />

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="WOS 계산기 - 재료 및 자원 소모량 계산가능" />
  <meta name="twitter:description" content="화이트아웃 서바이벌(WOS) 전용 계산기 및 각종 자료모음" />
  <meta name="twitter:image" content="https://raw.githubusercontent.com/s574shinchan/WOS_Calc/e66ed083ba7662f678ff42bcb3d0ee2b03ad3169/images/og-image.png" />
  <link rel="canonical" href="https://d1xsb5o91gjadf.cloudfront.net/" />
  <link rel="icon" href="images/favicon.ico" type="image/x-icon" />
  <title>WOS 계산기 ＆ 자료모음</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-QTRS9JCPXG"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-QTRS9JCPXG');
  </script>
  <style>
    :root{
      --bg1:#003a88;
      --bg2:#6c85bd;
      --nav:#0a1634cc;
      --muted:#b9c7ff;
      --panel:#101c36f2;
      --panel2:#0f1a33f2;
      --shadow: 0 18px 40px rgba(0,0,0,.35);
      --r:14px;
    }
    *{box-sizing:border-box}
    
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;      
      background:
        radial-gradient(900px 420px at 25% 0%, #1a2f6a 0%, transparent 60%),
        linear-gradient(180deg, var(--bg2), var(--bg1));
      min-height:100vh;
    }
    
    /* ✅ 다크모드 전용 */
    body.dark-mode {
      background-image: none;
      background-color: #121212;
      color: #f0f0f0;
    }
    
    .dark-mode .bg-white { background-color: #2c2c2c !important; color: #f0f0f0 !important; }
    
    .dark-mode .bg-blue-300,
    .dark-mode .bg-gray-100 { background-color: #1e1e1e !important; }
  
    .dark-mode .text-gray-800,
    .dark-mode .text-gray-700,
    .dark-mode .text-gray-600 { color: #f0f0f0 !important; }
  
    .dark-mode .text-blue-700 { color: #66b0ff !important; }
    .dark-mode .text-blue-600 { color: #80caff !important; }
    .dark-mode .text-orange-500 { color: #ffa94d !important; }
    .dark-mode .text-green-600 { color: #79e68c !important; }
    .dark-mode .text-red-500 { color: #ff8080 !important; }
  
    .dark-mode table { background-color: #2c2c2c; color: #f0f0f0; }
    .dark-mode th, .dark-mode td { border-color: #444 !important; }
    .dark-mode thead th { color: #000 !important; }
    
    .dark-mode .bg-blue-100,
    .dark-mode .bg-blue-50,
    .dark-mode .bg-amber-100,
    .dark-mode .bg-orange-50,
    .dark-mode .bg-red-50,
    .dark-mode .bg-indigo-100 { background-color: #3a3a3a !important; color: #f0f0f0 !important; }
    
    .dark-mode .bg-amber-50,
    .dark-mode .bg-indigo-50 { background-color: #2d2d2d !important; }
    .dark-mode summary { background-color: #333 !important; color: #f0f0f0 !important; }
    .dark-mode ul li { color: #ddd; }
    .dark-mode .text-gray-500 { color: #9ca3af !important; }
    .dark-mode .card { background:#1f1f1f; border-color:#2a2a2a; }
    
    .dark-mode * { text-shadow: none !important; }
    /* 다크모드일 때 아이콘 */
    .dark-mode #DarkMode { color: #facc15; /* 노란색 (달 아이콘 강조) */ }
    
    .dark-mode #langSelectPC,
    .dark-mode #langSelectPC option,
    .dark-mode #langSelectPC:disabled {
      color: #f0f0f0 !important;
      background-color: #2c2c2c !important;
    }
    /* 다크모드에서 팝업 테이블 헤더 글자색을 검정으로 */
    body.dark-mode #popupContent th { color:#f0f0f0 !important; }
    
    /* 다크모드에서 총합/보유량/과부족 행 글자색을 검정으로 */
    body.dark-mode #popupContent tr.row-total  td,
    body.dark-mode #popupContent tr.row-owned  td,
    body.dark-mode #popupContent tr.row-deficit td { color:#f0f0f0 !important; }
    
    .topbar{
      color: #e8efff;
      position: sticky; top:0; z-index:50;
      padding: 10px 8px;
      backdrop-filter: blur(10px);
      background: linear-gradient(180deg, var(--nav), transparent);
      border-bottom: 1px solid rgba(255,255,255,0.15);
    }
    .nav{
      max-width: none;
      margin-left: 0;
      padding-left: 8px;
      display:flex;
      align-items:center;
      gap:12px;
    }
    .brand{
      display:flex; align-items:center; gap:10px;
      font-size: 1.6rem;
      font-weight: 900;
      letter-spacing: .2px;
      margin-right: 8px;
      user-select:none;
      white-space:nowrap;
    }
    .logo{
      width:34px; height:34px; border-radius: 12px;
      background: linear-gradient(135deg, #5fb3ff, #2a4fff);
      box-shadow: 0 10px 22px rgba(0,0,0,.35);
    }
    .navlist{
      display:flex;
      align-items:center;
      gap:10px;
      flex-wrap:wrap;
      margin-left: auto;
      padding-right: 8px;
    }
    .dd{ position: relative; }
    .dd-btn{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding: 10px 14px;
      border-radius: 14px;
      border: 1px solid transparent;
      color: #e8efff;
      background: transparent;
      cursor:pointer;
      user-select:none;
      font-weight: 800;
      letter-spacing: .1px;
      transition: transform .12s ease, background .12s ease, border-color .12s ease;
      outline: none;
      white-space:nowrap;
    }
    .dd-btn:hover{
      background: rgba(255,255,255,.07);
      transform: translateY(-1px);
    }
    .dd-btn:focus-visible{
      border-color: rgba(120,170,255,.65);
      box-shadow: 0 0 0 3px rgba(80,140,255,.25);
    }
    .dd.open .dd-btn{
      background: rgba(255,255,255,.09);
      border-color: rgba(120,170,255,.25);
    }
    .chev{
      width: 10px; height: 10px;
      border-right: 2px solid var(--muted);
      border-bottom: 2px solid var(--muted);
      transform: rotate(45deg);
      margin-top: -2px;
      transition: transform .12s ease;
    }
    .dd.open .chev{
      transform: rotate(225deg);
      margin-top: 2px;
    }
    .dd-menu{
      position:absolute;
      top: calc(100% + 10px);
      left: 0;
      min-width: 220px;
      padding: 10px;
      border-radius: var(--r);
      display:none;
      
      /* ✅ 하위메뉴 배경/테두리/그림자 */
      background: linear-gradient(180deg, var(--panel), var(--panel2));
      border: 1px solid rgba(255,255,255,.08);
      box-shadow: var(--shadow);
    }
    .dd.open .dd-menu{ display:block; }
    .dd-item{
      display:block;
      padding: 12px 12px;
      border-radius: 12px;
      color: #e8efff;
      text-decoration:none;
      font-weight: 800;
      transition: background .12s ease;
    }
    .dd-item:hover, .dd-item:focus-visible{
      background: rgba(255,255,255,.07);
      outline: none;
    }
    
    .dd-item.active{
      background: rgba(255,255,255,.10);
      color: #57a8ff; /* 파란 글자 */
    }
    .dd-item.active::before{
      content:"";
      position:absolute;
      left: 6px;               /* 라인 위치 */
      top: 8px;
      bottom: 8px;
      width: 3px;
      border-radius: 999px;
      background: #57a8ff;     /* 파란 라인 */
    }
    
    .content{
      max-width: 1200px;
      margin: 0 auto;
      padding: 30px 18px;
      color: rgba(232,239,255,.85);
      line-height: 1.6;
    }
    .card { 
      border:1px solid rgba(0,0,0,.1); 
      background:#fff; 
      box-shadow:0 2px 8px rgba(0,0,0,.06); 
      padding:10px 10px; 
    }

    /* ✅ 한 줄 유지 + 가로 스크롤 허용 */
    .row{
      display:flex;
      align-items:center;
      gap:10px;
      flex-wrap:nowrap;         /* 줄바꿈 금지 */
      white-space:nowrap;       /* 텍스트도 줄바꿈 금지 */
      overflow-x:auto;          /* 넘치면 가로 스크롤 */
      -webkit-overflow-scrolling: touch;
    }
    #hero-shard-strip{
      display:flex;
      align-items:center;
      flex-wrap:nowrap;         /* 줄바꿈 금지 */
      flex:0 0 auto;            /* 줄서기 고정 */
    }
    #hero-shard-strip img{
      width:32px; height:32px; object-fit:contain;
      flex:0 0 auto;            /* 아이콘 자체도 줄바꿈 방지 */
    }
    .dark-mode .input { width:110px; height:34px; border:1px solid #d0d5dd; border-radius:8px; padding:0 10px; outline:none; color: #121212; }
    .input { width:110px; height:34px; border:1px solid #d0d5dd; border-radius:8px; padding:0 10px; outline:none; }
    .btn   { height:34px; padding:0 14px; border:0; border-radius:8px; background:#2563eb; color:#fff; cursor:pointer; flex:0 0 auto; }
  

    /* ========== Mobile optimizations (index_mobile.html) ========== */
    /* 모바일에서 상단바/메뉴/iframe을 보기 편하게 재배치 */
    @media (max-width: 1024px){
      .topbar{ padding: 10px 10px; }
      .nav{ gap:10px; padding-left: 6px; padding-right: 6px; }
      .navlist{ display:none !important; }
      #mobileMenuBtn{ display:inline-flex !important; }
      .content{ padding: 18px 12px; }
      .max-w-\[1500px\]{ max-width: 100% !important; }
    }
    @media (max-width: 640px){
      body{ background: linear-gradient(180deg, var(--bg2), var(--bg1)); }
      .topbar{ position: sticky; top:0; }
      .nav{ flex-wrap: wrap; justify-content: space-between; }
      .nav > .text-center{ display:flex; align-items:center; gap:10px; }
      .nav > .text-center img{ width:52px; }
      .nav > .text-center .font-bold{ font-size: 14px; }

      /* Support/Buttons 영역: 한 줄 가로 스크롤(넘치면) */
      .nav .relative.absolute{ position: relative !important; width:100%; }
      .nav .relative.absolute > .inline-flex{ width:100%; justify-content:center; }
      .nav .relative.absolute button{ font-size: 14px; }

      /* 모바일에서 메인 컨테이너 패딩 줄이기 */
      .max-w-\[1500px\].mx-auto{ padding: 8px !important; }

      /* iframe: 화면 가득 (헤더 제외) */
      #frameWrapper{ border-radius: 14px; overflow:hidden; }
      #mainFrame{ width:100%; min-height: calc(100vh - 120px); }

      /* 큰 표/내용은 가로 스크롤 유지 */
      table{ min-width: 520px; }

      /* 스크롤탑 버튼 위치 살짝 위로 */
      #scrollToTopBtn{ right: 14px; bottom: 14px; }
    }

    /* 모바일 드로어 */
    #mobileDrawer .drawer{
      width: min(92vw, 420px);
      height: 100vh;
    }
    #mobileDrawer a, #mobileDrawer button{
      -webkit-tap-highlight-color: transparent;
    }
    .mob-group-title{ color: rgba(232,239,255,.85); font-weight: 900; font-size: 12px; letter-spacing:.3px; }
    .mob-item{
      display:flex; align-items:center; justify-content:space-between;
      padding: 12px 12px;
      border-radius: 12px;
      color: #e8efff;
      text-decoration:none;
      font-weight: 800;
      background: rgba(255,255,255,.06);
      border: 1px solid rgba(255,255,255,.08);
    }
    .mob-item:active{ transform: translateY(1px); }
    .mob-item small{ color: rgba(185,199,255,.9); font-weight:700; }
    
    /* ✅ 모바일에서 테이블 가로 스크롤 최소화 */
    @media (max-width: 640px){
      table{ width:100%; table-layout:fixed; }
      th, td{ word-break:break-word; }
      .whitespace-nowrap{ white-space:normal !important; }
    }
    /* ✅ 기본: 스크롤 컨테이너로 만들지 않음 */
    .tblwrap{ overflow-x: visible; }

    /* ✅ 실제로 넘칠 때만 스크롤 허용 */
    .tblwrap.is-scroll{ overflow-x: auto; -webkit-overflow-scrolling: touch; }

    /* ✅ 모바일에서 표는 최대한 줄바꿈으로 버팀 */
    @media (max-width: 640px){
      table{ width:100%; table-layout:fixed; }
      th, td{ word-break:break-word; }
      .whitespace-nowrap{ white-space:normal !important; }
    }
  </style>
  <script>
  (function () {
    const ua = navigator.userAgent || navigator.vendor || window.opera;
    const uaMobile = /android|iphone|ipod|blackberry|windows phone/i.test(ua);
    const iPadOS = (navigator.platform === 'MacIntel' && navigator.maxTouchPoints > 1);
    const smallScreen = Math.min(screen.innerWidth, screen.innerheight) <= 900;

    const isMobile = uaMobile || iPadOS || smallScreen;
    if (isMobile) return;

    // ✅ 1회만 캐시 깨기 (세션당 1번)
    const KEY = "m_redirect_once";
    if (!sessionStorage.getItem(KEY)) {
      sessionStorage.setItem(KEY, "1");
      location.replace('index.html?v=' + Date.now());
    } else {
      location.replace('index.html');
    }
  })();
  </script>  
</head>

<body>
  <div class="topbar">
    <div class="nav">
      <!-- ✅ Row 1: 로고/타이틀 + 햄버거 -->
      <div class="grid grid-cols-[1fr_auto] items-center gap-2">
        <div class="flex items-center gap-3 min-w-0">
          <img src="images/logo.png" alt="logo"
               class="w-12 h-12 drop-shadow-lg cursor-pointer shrink-0"/>
          <span class="text-2xl font-bold truncate">WOS 계산기</span>
        </div>

        <!-- 메뉴 버튼 (우측 고정 느낌) -->
        <button id="mobileMenuBtn" type="button"
                class="flex items-center justify-center w-11 h-11 rounded-xl
                       border border-white/20 bg-white/10 text-white text-xl font-black
                       md:hidden"
                aria-label="Open menu">☰</button>
      </div>

      <!-- ✅ Row 2: 컨설팅/운영지원/서포트 (로고 아래) -->
      <div class="mt-3 grid grid-cols-3 gap-2">
        <!-- 컨설팅문의 -->
        <button onclick="window.open('https://open.kakao.com/o/sUPPaqqh', '_blank')"
                class="flex px-3 py-2 rounded-md shadow text-[15px] items-center
                       gap-2 bg-slate-600 text-white justify-center w-full whitespace-nowrap">
          컨설팅문의
        </button>

        <!-- 운영지원 -->
        <button onclick="window.open('https://buymeacoffee.com/shin0825', '_blank')"
                class="flex px-3 py-2 rounded-md shadow text-[15px] items-center
                       gap-2 bg-slate-600 text-white justify-center w-full whitespace-nowrap">
          운영지원
        </button>

        <!-- Support Badge + Toast -->
        <div class="relative w-full">
          <div class="inline-flex w-full overflow-hidden items-center gap-2
                      bg-slate-600 text-white text-xs px-3 py-2 rounded-md shadow">
            <span id="supportNumber"
                  class="font-bold tracking-wide flex-1 min-w-0 truncate text-right">
              67331703
            </span>
            <div class="relative shrink-0">
              <button id="copyBtn"
                      onclick="copySupportNumber()"
                      class="ml-1 bg-slate-700 hover:bg-slate-600 text-white p-1.5 rounded-md transition flex items-center shrink-0">
                <svg id="iconBook" xmlns="http://www.w3.org/2000/svg"
                     class="w-3.5 h-3.5"
                     fill="none" viewBox="0 0 24 24"
                     stroke="currentColor" stroke-width="2">
                  <path stroke-linecap="round" stroke-linejoin="round"
                        d="M3 19a9 9 0 0 1 9 0a9 9 0 0 1 9 0" />
                  <path d="M3 6a9 9 0 0 1 9 0a9 9 0 0 1 9 0" />
                  <path d="M3 6l0 13" />
                  <path d="M12 6l0 13" />
                  <path d="M21 6l0 13" />
                </svg>

                <svg id="iconCheck" xmlns="http://www.w3.org/2000/svg"
                     class="w-3.5 h-3.5 hidden"
                     fill="none" viewBox="0 0 24 24"
                     stroke="currentColor" stroke-width="2">
                  <path stroke-linecap="round" stroke-linejoin="round"
                        d="M5 13l4 4L19 7" />
                </svg>
              </button>
            </div>
          </div>

          <div id="toast"
               class="absolute right-0 top-full mt-2 z-50
                      bg-emerald-500 text-white text-xs font-semibold
                      px-3 py-2 rounded-lg shadow-lg
                      whitespace-nowrap w-max max-w-none
                      opacity-0 pointer-events-none
                      transition-opacity duration-200">
            사용자 ID가 복사되었습니다.
          </div>
        </div>
      </div>

      <!-- ✅ Mobile Drawer Menu -->
      <div id="mobileDrawer" class="fixed inset-0 z-[999] hidden">
        <div class="absolute inset-0 bg-black/55" data-close-drawer></div>
        <div class="absolute right-0 top-0 drawer bg-gradient-to-b from-[#0a1634] to-[#0f1a33] border-l border-white/10 shadow-2xl p-4 overflow-y-auto">
          <div class="flex items-center justify-between">
            <div class="text-white font-black text-lg">메뉴</div>
            <button type="button" class="w-10 h-10 rounded-xl bg-white/10 border border-white/15 text-white" data-close-drawer aria-label="Close">✕</button>
          </div>

          <div class="mt-4 space-y-3">
            <a type="button" class="mob-item" id="mobHomeBtn">
              <span>Home</span><small>자료모음</small>
            </a>

            <div class="space-y-2">
              <div class="mob-group-title">계산기</div>
              <a class="mob-item dd-item" href="#" data-frame="buildingchoice_m.html"><span>건물계산</span><small>Building</small></a>
              <a class="mob-item dd-item" href="#" data-frame="enquirychoice_m.html"><span>연구계산</span><small>Research</small></a>
              <a class="mob-item dd-item" href="#" data-frame="experts_m.html"><span>전문가</span><small>Experts</small></a>
              <a class="mob-item dd-item" href="#" data-frame="pet.html"><span>펫돌파</span><small>Pets</small></a>
            </div>

            <div class="space-y-2">
              <div class="mob-group-title">영웅장비</div>
              <a class="mob-item dd-item" href="#" data-frame="hero_Mithril.html"><span>미스릴</span><small>Mithril</small></a>
              <a class="mob-item dd-item" href="#" data-frame="hero_Mastery.html"><span>마스터리</span><small>Mastery</small></a>
            </div>

            <div class="space-y-2">
              <div class="mob-group-title">장비 및 보석</div>
              <a class="mob-item dd-item" href="#" data-frame="equip.html"><span>영주장비</span><small>Chief Gear</small></a>
              <a class="mob-item dd-item" href="#" data-frame="gem.html"><span>영주보석</span><small>Gems</small></a>
            </div>

            <div class="space-y-2">
              <div class="mob-group-title">편의항목</div>
              <a class="mob-item dd-item" href="#" data-frame="beartrap.html"><span>부대계산</span><small>Troops</small></a>
              <a class="mob-item dd-item" href="#" data-frame="troop.html"><span>병사생산</span><small>Training</small></a>
              <a class="mob-item dd-item" href="#" data-frame="SVS_PreMission.html"><span>SVS점수</span><small>SVS</small></a>
              <a class="mob-item dd-item" href="#" data-frame="hero_info_m.html"><span>영웅정보</span><small>Heroes Info</small></a>
            </div>

            <div class="space-y-2">
              <div class="mob-group-title">자료 및 일정</div>
              <a class="mob-item dd-item" href="#" data-frame="transfer.html"><span>이민예측</span><small>Transfer</small></a>
              <a class="mob-item dd-item" href="#" data-frame="schedule.html"><span>주간일정</span><small>Weekly</small></a>
              <a class="mob-item dd-item" href="#" data-frame="pakage.html"><span>패키지자료</span><small>Packages</small></a>
              <a class="mob-item dd-item" href="#" data-frame="imagedata.html"><span>이미지자료</span><small>Images</small></a>
            </div>

            <div class="space-y-2">
              <div class="mob-group-title">바로가기</div>
              <a type="button" class="mob-item" id="mobRequestBtn"><span>자료요청</span><small>Kakao</small></a>
              <a type="button" class="mob-item" id="mobConsultBtn"><span>컨설팅문의</span><small>Kakao</small></a>
              <a type="button" class="mob-item" id="mobDonateBtn"><span>운영지원</span><small>BMC</small></a>
            </div>
          </div>
        </div>
      </div>

    </div>
  </div>

  <div class="w-full max-w-[1500px] mx-auto bg-white rounded-2xl shadow p-2 flex flex-col gap-2">
    <!-- guideDetails: 처음에만 표시됨 -->
    <div id="guideDetails" class="w-full rounded-2xl p-0 space-y-4">
      <div class="bg-gray-100 p-2 font-sans text-sm rounded-2xl">
        <div class="w-full bg-white p-3 rounded-2xl space-y-10">
          <div class="space-y-4">
            <h1 class="text-2xl font-bold text-gray-800 mb-4">📘 자료모음</h1>
            
            <!-- ⚔️ SVS_Event (Mobile Card Version: 월~금) -->
            <details class="bg-white border border-blue-300 rounded-md p-4">
              <summary class="cursor-pointer text-lg font-bold text-blue-700 mb-2">⚔️ SVS 미션</summary>

              <!-- ✅ 카드 그리드 (모바일 1열 / 큰 화면 2~3열) -->
              <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 mt-3">

                <!-- 월요일 -->
                <section class="rounded-xl border border-slate-200 bg-white shadow-sm overflow-hidden">
                  <div class="px-4 py-3 bg-orange-100 flex items-center justify-between">
                    <div class="font-bold text-slate-900">월요일</div>
                  </div>

                  <ul class="divide-y divide-slate-100">
                    <li class="px-4 py-3 flex items-start gap-3">
                      
                      <div class="flex-1 font-semibold leading-5">영주 보석 업그레이드</div>
                      <div class="min-w-[92px] text-right font-semibold whitespace-normal">1pt당 70pt</div>
                    </li>
                    <li class="px-4 py-3 flex items-start gap-3">
                      
                      <div class="flex-1 font-semibold leading-5">불수정 건물 업그레이드</div>
                      <div class="min-w-[92px] text-right font-semibold whitespace-normal">1개 2,000pt</div>
                    </li>
                    <li class="px-4 py-3 flex items-start gap-3">
                      
                      <div class="flex-1 font-semibold leading-5">불수정 가루 연구</div>
                      <div class="min-w-[92px] text-right font-semibold whitespace-normal">1개 1,000pt</div>
                    </li>
                    <li class="px-4 py-3 flex items-start gap-3">
                      
                      <div class="flex-1 font-semibold leading-5">제련으로 건물 업그레이드</div>
                      <div class="min-w-[92px] text-right font-semibold whitespace-normal">1개 30,000pt</div>
                    </li>
                  </ul>
                </section>

                <!-- 화요일 -->
                <section class="rounded-xl border border-slate-200 bg-white shadow-sm overflow-hidden">
                  <div class="px-4 py-3 bg-orange-100 flex items-center justify-between">
                    <div class="font-bold text-slate-900">화요일</div>
                  </div>

                  <ul class="divide-y divide-slate-100 bg-amber-50">
                    <li class="px-4 py-3 flex items-start gap-3">
                      
                      <div class="flex-1 font-semibold leading-5">행운룰렛</div>
                      <div class="min-w-[92px] text-right font-semibold whitespace-normal">1회 8,000pt</div>
                    </li>
                    <li class="px-4 py-3 flex items-start gap-3">
                      
                      <div class="flex-1 font-semibold leading-5">불수정 건물 업그레이드</div>
                      <div class="min-w-[92px] text-right font-semibold whitespace-normal">1개 2,000pt</div>
                    </li>
                    <li class="px-4 py-3 flex items-start gap-3">
                      
                      <div class="flex-1 font-semibold leading-5">불수정 가루 연구</div>
                      <div class="min-w-[92px] text-right font-semibold whitespace-normal">1개 1,000pt</div>
                    </li>
                    <li class="px-4 py-3 flex items-start gap-3">
                      
                      <div class="flex-1 font-semibold leading-5">제련으로 건물 업그레이드</div>
                      <div class="min-w-[92px] text-right font-semibold whitespace-normal">1개 30,000pt</div>
                    </li>
                    <li class="px-4 py-3 flex items-start gap-3">
                      
                      <div class="flex-1 font-semibold leading-5">건설/연구/훈련 가속</div>
                      <div class="min-w-[92px] text-right font-semibold whitespace-normal">1분 30pt</div>
                    </li>
                    <li class="px-4 py-3 flex items-start gap-3">
                      
                      <div class="flex-1 font-semibold leading-5">레어 영웅 성급업</div>
                      <div class="min-w-[92px] text-right font-semibold whitespace-normal">1개 350pt</div>
                    </li>
                    <li class="px-4 py-3 flex items-start gap-3">
                      
                      <div class="flex-1 font-semibold leading-5">에픽 영웅 성급업</div>
                      <div class="min-w-[92px] text-right font-semibold whitespace-normal">1개 1,220pt</div>
                    </li>
                    <li class="px-4 py-3 flex items-start gap-3">
                      
                      <div class="flex-1 font-semibold leading-5">레전드 영웅 성급업</div>
                      <div class="min-w-[92px] text-right font-semibold whitespace-normal">1개 3,040pt</div>
                    </li>
                    <li class="px-4 py-3 flex items-start gap-3">
                      
                      <div class="flex-1 font-semibold leading-5">전문가 표식 소모</div>
                      <div class="min-w-[92px] text-right font-semibold whitespace-normal">1개 6,000pt</div>
                    </li>
                    <li class="px-4 py-3 flex items-start gap-3">
                      
                      <div class="flex-1 font-semibold leading-5">학문의 책 소모</div>
                      <div class="min-w-[92px] text-right font-semibold whitespace-normal">1개 60pt</div>
                    </li>
                    <li class="px-4 py-3 flex items-start gap-3">
                      
                      <div class="flex-1 font-semibold leading-5">채집</div>
                      <div class="min-w-[92px] text-right font-semibold whitespace-normal">2pt</div>
                    </li>
                  </ul>
                </section>

                <!-- 수요일 -->
                <section class="rounded-xl border border-slate-200 bg-white shadow-sm overflow-hidden">
                  <div class="px-4 py-3 bg-orange-100 flex items-center justify-between">
                    <div class="font-bold text-slate-900">수요일</div>
                    <div class="text-[11px] text-slate-600">SVS</div>
                  </div>

                  <ul class="divide-y divide-slate-100">
                    <li class="px-4 py-3 flex items-start gap-3">
                      
                      <div class="flex-1 font-semibold leading-5">영주 보석</div>
                      <div class="min-w-[92px] text-right font-semibold whitespace-normal">1pt당 70pt</div>
                    </li>
                    <li class="px-4 py-3 flex items-start gap-3">
                      
                      <div class="flex-1 font-semibold leading-5">행운룰렛</div>
                      <div class="min-w-[92px] text-right font-semibold whitespace-normal">1회 8,000pt</div>
                    </li>
                    <li class="px-4 py-3 flex items-start gap-3">
                      
                      <div class="flex-1 font-semibold leading-5">펫 돌파</div>
                      <div class="min-w-[92px] text-right font-semibold whitespace-normal">1개 50pt</div>
                    </li>
                    <li class="px-4 py-3 flex items-start gap-3">
                      
                      <div class="flex-1 font-semibold leading-5">고급 펫 단련</div>
                      <div class="min-w-[92px] text-right font-semibold whitespace-normal">1개 15,000pt</div>
                    </li>
                    <li class="px-4 py-3 flex items-start gap-3">
                      
                      <div class="flex-1 font-semibold leading-5">일반 펫 단련</div>
                      <div class="min-w-[92px] text-right font-semibold whitespace-normal">1개 1,150pt</div>
                      </li>
                    <li class="px-4 py-3 flex items-start gap-3">
                      
                      <div class="flex-1 font-semibold leading-5">레어 영웅 성급업</div>
                      <div class="min-w-[92px] text-right font-semibold whitespace-normal">1개 350pt</div>
                    </li>
                    <li class="px-4 py-3 flex items-start gap-3">
                      
                      <div class="flex-1 font-semibold leading-5">에픽 영웅 성급업</div>
                      <div class="min-w-[92px] text-right font-semibold whitespace-normal">1개 1,220pt</div>
                    </li>
                    <li class="px-4 py-3 flex items-start gap-3">
                      
                      <div class="flex-1 font-semibold leading-5">레전드 영웅 성급업</div>
                      <div class="min-w-[92px] text-right font-semibold whitespace-normal">1개 3,040pt</div>
                    </li>
                    <li class="px-4 py-3 flex items-start gap-3">
                      
                      <div class="flex-1 font-semibold leading-5">전문가 표식 소모</div>
                      <div class="min-w-[92px] text-right font-semibold whitespace-normal">1개 6,000pt</div>
                    </li>
                    <li class="px-4 py-3 flex items-start gap-3">
                      
                      <div class="flex-1 font-semibold leading-5">학문의 책 소모</div>
                      <div class="min-w-[92px] text-right font-semibold whitespace-normal">1개 60pt</div>
                    </li>
                    <li class="px-4 py-3 flex items-start gap-3">
                      
                      <div class="flex-1 font-semibold leading-5">빙원괴수집결</div>
                      <div class="min-w-[92px] text-right font-semibold whitespace-normal">1마리당 30,000pt</div>
                    </li>
                    <li class="px-4 py-3 flex items-start gap-3">
                      
                      <div class="flex-1 font-semibold leading-5">야수처치</div>
                      <div class="min-w-[92px] text-right font-semibold whitespace-normal">1마리당 9,000 ~ 12,000pt</div>
                    </li>
                  </ul>
                </section>

                <!-- 목요일 -->
                <section class="rounded-xl border border-slate-200 bg-white shadow-sm overflow-hidden">
                  <div class="px-4 py-3 bg-orange-100 flex items-center justify-between">
                    <div class="font-bold text-slate-900">목요일</div>
                  </div>

                  <ul class="divide-y divide-slate-100">
                    <li class="px-4 py-3 flex items-start gap-3">
                      
                      <div class="flex-1 font-semibold leading-5">영주 보석</div>
                      <div class="min-w-[92px] text-right font-semibold whitespace-normal">1pt당 70pt</div>
                    </li>
                    <li class="px-4 py-3 flex items-start gap-3">
                      
                      <div class="flex-1 font-semibold leading-5">마스터리석 소모</div>
                      <div class="min-w-[92px] text-right font-semibold whitespace-normal">1개 4,000pt</div>
                    </li>
                    <li class="px-4 py-3 flex items-start gap-3">
                      
                      <div class="flex-1 font-semibold leading-5">영웅전용무기 소모</div>
                      <div class="min-w-[92px] text-right font-semibold whitespace-normal">1개 8,000pt</div>
                    </li>
                    <li class="px-4 py-3 flex items-start gap-3">
                      
                      <div class="flex-1 font-semibold leading-5">미스릴 소모</div>
                      <div class="min-w-[92px] text-right font-semibold whitespace-normal">1개 144,000pt</div>
                    </li>
                    <li class="px-4 py-3 flex items-start gap-3">
                      
                      <div class="flex-1 font-semibold leading-5">병사 훈련</div>
                      <div class="min-w-[92px] text-right font-semibold whitespace-normal">3 ~ 75pt</div>
                    </li>
                  </ul>
                </section>

                <!-- 금요일 -->
                <section class="rounded-xl border border-slate-200 bg-white shadow-sm overflow-hidden">
                  <div class="px-4 py-3 bg-orange-100 flex items-center justify-between">
                    <div class="font-bold text-slate-900">금요일</div>
                  </div>

                  <ul class="divide-y divide-slate-100">
                    <li class="px-4 py-3 flex items-start gap-3">
                      
                      <div class="flex-1 font-semibold leading-5">영주 장비</div>
                      <div class="min-w-[92px] text-right font-semibold whitespace-normal">1종 36pt</div>
                    </li>
                    <li class="px-4 py-3 flex items-start gap-3">
                      
                      <div class="flex-1 font-semibold leading-5">마스터리석 소모</div>
                      <div class="min-w-[92px] text-right font-semibold whitespace-normal">1개 4,000pt</div>
                    </li>
                    <li class="px-4 py-3 flex items-start gap-3">
                      <div class="flex-1 font-semibold leading-5">영웅전용무기 소모</div>
                      <div class="min-w-[92px] text-right font-semibold whitespace-normal">1개 8,000pt</div>
                    </li>
                    <li class="px-4 py-3 flex items-start gap-3">
                      <div class="flex-1 font-semibold leading-5">미스릴 소모</div>
                      <div class="min-w-[92px] text-right font-semibold whitespace-normal">1개 144,000pt</div>
                    </li>
                    <li class="px-4 py-3 flex items-start gap-3">
                      
                      <div class="flex-1 font-semibold leading-5">불수정 건물 업그레이드</div>
                      <div class="min-w-[92px] text-right font-semibold whitespace-normal">1개 2,000pt</div>
                    </li>
                    <li class="px-4 py-3 flex items-start gap-3">
                      
                      <div class="flex-1 font-semibold leading-5">불수정 가루 연구</div>
                      <div class="min-w-[92px] text-right font-semibold whitespace-normal">1개 1,000pt</div>
                    </li>
                    <li class="px-4 py-3 flex items-start gap-3">
                      
                      <div class="flex-1 font-semibold leading-5">제련으로 건물 업그레이드</div>
                      <div class="min-w-[92px] text-right font-semibold whitespace-normal">1개 30,000pt</div>
                    </li>
                    <li class="px-4 py-3 flex items-start gap-3">
                      
                      <div class="flex-1 font-semibold leading-5">펫 돌파</div>
                      <div class="min-w-[92px] text-right font-semibold whitespace-normal">1개 50pt</div>
                    </li>
                    <li class="px-4 py-3 flex items-start gap-3">
                      
                      <div class="flex-1 font-semibold leading-5">고급 펫 단련</div>
                      <div class="min-w-[92px] text-right font-semibold whitespace-normal">1개 15,000pt</div>
                    </li>
                    <li class="px-4 py-3 flex items-start gap-3">
                      
                      <div class="flex-1 font-semibold leading-5">일반 펫 단련</div>
                      <div class="min-w-[92px] text-right font-semibold whitespace-normal">1개 1,150pt</div>
                    </li>
                    <li class="px-4 py-3 flex items-start gap-3">
                      
                      <div class="flex-1 font-semibold leading-5">건설/연구/훈련 가속</div>
                      <div class="min-w-[92px] text-right font-semibold whitespace-normal">1분 30pt</div>
                    </li>
                  </ul>
                </section>

              </div>
            </details>

            <!-- 연맹대작전 -->
            <details class="bg-white border border-blue-300 rounded-md p-4">
              <summary class="cursor-pointer text-lg font-bold text-blue-700 mb-2">🚛 연맹대작전</summary>

              <div id="연맹대작전" class="mt-3 space-y-4 text-sm text-gray-800">
                <!-- ✅ 카드 그리드 (모바일 1열 / sm 2열 / lg 3열) -->
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3">

                  <!-- 월요일 -->
                  <section class="rounded-xl border border-slate-200 bg-white shadow-sm overflow-hidden">
                    <div class="px-4 py-3 bg-orange-100 flex items-center justify-between">
                      <div class="font-bold text-slate-900">월요일</div>
                    </div>
                    <ul class="divide-y divide-slate-100">
                      <li class="px-4 py-3 flex items-start gap-3">
                        <div class="flex-1 text-sm leading-5">임의의 등급 행상 1회 호송</div>
                        <div class="min-w-[92px] text-right font-semibold whitespace-normal">10,000pt</div>
                      </li>
                      <li class="px-4 py-3 flex items-start gap-3">
                        <div class="flex-1 text-sm leading-5">임의의 등급 행상 1회 약탈</div>
                        <div class="min-w-[92px] text-right font-semibold whitespace-normal">10,000pt</div>
                      </li>
                      <li class="px-4 py-3 flex items-start gap-3">
                        <div class="flex-1 text-sm leading-5">제련된 불의 수정 1개 소모</div>
                        <div class="min-w-[92px] text-right font-semibold whitespace-normal">18,750pt</div>
                      </li>
                      <li class="px-4 py-3 flex items-start gap-3">
                        <div class="flex-1 text-sm leading-5">불의 수정 1개 소모</div>
                        <div class="min-w-[92px] text-right font-semibold whitespace-normal">1,250pt</div>
                      </li>
                      <li class="px-4 py-3 flex items-start gap-3">
                        <div class="flex-1 text-sm leading-5">불의 수정 조각 1개 소모</div>
                        <div class="min-w-[92px] text-right font-semibold whitespace-normal">625pt</div>
                      </li>
                      <li class="px-4 py-3 flex items-start gap-3">
                        <div class="flex-1 text-sm leading-5">건설/연구/훈련 가속</div>
                        <div class="min-w-[92px] text-right font-semibold whitespace-normal">1분 18pt</div>
                      </li>
                      <li class="px-4 py-3 flex items-start gap-3">
                        <div class="flex-1 text-sm leading-5">채집</div>
                        <div class="min-w-[92px] text-right font-semibold whitespace-normal">2pt</div>
                      </li>
                      <li class="px-4 py-3 flex items-start gap-3">
                        <div class="flex-1 text-sm leading-5">다이아 1개 소모</div>
                        <div class="min-w-[92px] text-right font-semibold whitespace-normal">1pt</div>
                      </li>
                    </ul>
                  </section>

                  <!-- 화요일 -->
                  <section class="rounded-xl border border-slate-200 bg-white shadow-sm overflow-hidden">
                  <div class="px-4 py-3 bg-orange-100 flex items-center justify-between">
                    <div class="font-bold text-slate-900">화요일</div>
                  </div>
                  <ul class="divide-y divide-slate-100">
                    <li class="px-4 py-3 flex items-start gap-3">
                      <div class="flex-1 text-sm leading-5">임의의 등급 행상 1회 호송</div>
                      <div class="min-w-[92px] text-right font-semibold whitespace-normal">10,000pt</div>
                    </li>
                    <li class="px-4 py-3 flex items-start gap-3">
                      <div class="flex-1 text-sm leading-5">임의의 등급 행상 1회 약탈</div>
                      <div class="min-w-[92px] text-right font-semibold whitespace-normal">10,000pt</div>
                    </li>
                    <li class="px-4 py-3 flex items-start gap-3">
                      <div class="flex-1 text-sm leading-5">레어 영웅 성급업</div>
                      <div class="min-w-[92px] text-right font-semibold whitespace-normal">1개 210pt</div>
                    </li>
                    <li class="px-4 py-3 flex items-start gap-3">
                      <div class="flex-1 text-sm leading-5">에픽 영웅 성급업</div>
                      <div class="min-w-[92px] text-right font-semibold whitespace-normal">1개 750pt</div>
                    </li>
                    <li class="px-4 py-3 flex items-start gap-3">
                      <div class="flex-1 text-sm leading-5">레전드 영웅 성급업</div>
                      <div class="min-w-[92px] text-right font-semibold whitespace-normal">1개 1,875pt</div>
                    </li>
                    <li class="px-4 py-3 flex items-start gap-3">
                      <div class="flex-1 text-sm leading-5">제련된 불의 수정 1개 소모</div>
                      <div class="min-w-[92px] text-right font-semibold whitespace-normal">18,750pt</div>
                    </li>
                    <li class="px-4 py-3 flex items-start gap-3">
                      <div class="flex-1 text-sm leading-5">불의 수정 1개 소모</div>
                      <div class="min-w-[92px] text-right font-semibold whitespace-normal">1,250pt</div>
                    </li>
                    <li class="px-4 py-3 flex items-start gap-3">
                      <div class="flex-1 text-sm leading-5">불의 수정 조각 1개 소모</div>
                      <div class="min-w-[92px] text-right font-semibold whitespace-normal">625pt</div>
                    </li>
                    <li class="px-4 py-3 flex items-start gap-3">
                      <div class="flex-1 text-sm leading-5">건설/연구/훈련 가속</div>
                      <div class="min-w-[92px] text-right font-semibold whitespace-normal">1분 18pt</div>
                    </li>
                    <li class="px-4 py-3 flex items-start gap-3">
                      <div class="flex-1 text-sm leading-5">다이아 1개 소모</div>
                      <div class="min-w-[92px] text-right font-semibold whitespace-normal">1pt</div>
                    </li>
                  </ul>
                </section>

                  <!-- 수요일 -->
                  <section class="rounded-xl border border-slate-200 bg-white shadow-sm overflow-hidden">
                    <div class="px-4 py-3 bg-orange-100 flex items-center justify-between">
                      <div class="font-bold text-slate-900">수요일</div>
                    </div>
                    <ul class="divide-y divide-slate-100">
                      <li class="px-4 py-3 flex items-start gap-3">
                        <div class="flex-1 text-sm leading-5">임의의 등급 행상 1회 호송</div>
                        <div class="min-w-[92px] text-right font-semibold whitespace-normal">10,000pt</div>
                      </li>
                      <li class="px-4 py-3 flex items-start gap-3">
                        <div class="flex-1 text-sm leading-5">임의의 등급 행상 1회 약탈</div>
                        <div class="min-w-[92px] text-right font-semibold whitespace-normal">10,000pt</div>
                      </li>
                      <li class="px-4 py-3 flex items-start gap-3">
                        <div class="flex-1 text-sm leading-5">영주 보석</div>
                        <div class="min-w-[92px] text-right font-semibold whitespace-normal">1pt당 45pt</div>
                      </li>
                      <li class="px-4 py-3 flex items-start gap-3">
                        <div class="flex-1 text-sm leading-5">펫 돌파</div>
                        <div class="min-w-[92px] text-right font-semibold whitespace-normal">1개 30pt</div>
                      </li>
                      <li class="px-4 py-3 flex items-start gap-3">
                        <div class="flex-1 text-sm leading-5">고급 펫 단련</div>
                        <div class="min-w-[92px] text-right font-semibold whitespace-normal">1개 9,370pt</div>
                      </li>
                      <li class="px-4 py-3 flex items-start gap-3">
                        <div class="flex-1 text-sm leading-5">일반 펫 단련</div>
                        <div class="min-w-[92px] text-right font-semibold whitespace-normal">1개 680pt</div>
                      </li>
                      <li class="px-4 py-3 flex items-start gap-3">
                        <div class="flex-1 text-sm leading-5">불의 수정 1개 소모</div>
                        <div class="min-w-[92px] text-right font-semibold whitespace-normal">1,250pt</div>
                      </li>
                      <li class="px-4 py-3 flex items-start gap-3">
                        <div class="flex-1 text-sm leading-5">불의 수정 조각 1개 소모</div>
                        <div class="min-w-[92px] text-right font-semibold whitespace-normal">625pt</div>
                      </li>
                      <li class="px-4 py-3 flex items-start gap-3">
                        <div class="flex-1 text-sm leading-5">건설/연구/훈련 가속</div>
                        <div class="min-w-[92px] text-right font-semibold whitespace-normal">1분 18pt</div>
                      </li>
                      <li class="px-4 py-3 flex items-start gap-3">
                        <div class="flex-1 text-sm leading-5">채집</div>
                        <div class="min-w-[92px] text-right font-semibold whitespace-normal">2pt</div>
                      </li>
                      <li class="px-4 py-3 flex items-start gap-3">
                        <div class="flex-1 text-sm leading-5">다이아 1개 소모</div>
                        <div class="min-w-[92px] text-right font-semibold whitespace-normal">1pt</div>
                      </li>
                    </ul>
                  </section>

                  <!-- 목요일 -->
                  <section class="rounded-xl border border-slate-200 bg-white shadow-sm overflow-hidden">
                    <div class="px-4 py-3 bg-orange-100 flex items-center justify-between">
                      <div class="font-bold text-slate-900">목요일</div>
                      
                    </div>
                    <ul class="divide-y divide-slate-100">
                      <li class="px-4 py-3 flex items-start gap-3">
                        <div class="flex-1 text-sm leading-5">임의의 등급 행상 1회 호송</div>
                        <div class="min-w-[92px] text-right font-semibold whitespace-normal">10,000pt</div>
                      </li>
                      <li class="px-4 py-3 flex items-start gap-3">
                        <div class="flex-1 text-sm leading-5">임의의 등급 행상 1회 약탈</div>
                        <div class="min-w-[92px] text-right font-semibold whitespace-normal">10,000pt</div>
                      </li>
                      <li class="px-4 py-3 flex items-start gap-3">
                        <div class="flex-1 text-sm leading-5">영주 보석</div>
                        <div class="min-w-[92px] text-right font-semibold whitespace-normal">1pt당 45pt</div>
                      </li>
                      <li class="px-4 py-3 flex items-start gap-3">
                        <div class="flex-1 text-sm leading-5">마스터리 에너지석 1개 소모</div>
                        <div class="min-w-[92px] text-right font-semibold whitespace-normal">1,875pt</div>
                      </li>
                      <li class="px-4 py-3 flex items-start gap-3">
                        <div class="flex-1 text-sm leading-5">임의의 영웅 전용장비 부속품 1개 소모</div>
                        <div class="min-w-[92px] text-right font-semibold whitespace-normal">3,750pt</div>
                      </li>
                      <li class="px-4 py-3 flex items-start gap-3">
                        <div class="flex-1 text-sm leading-5">미스릴 1개 소모</div>
                        <div class="min-w-[92px] text-right font-semibold whitespace-normal">18,750pt</div>
                      </li>
                      <li class="px-4 py-3 flex items-start gap-3">
                        <div class="flex-1 text-sm leading-5">병사 훈련</div>
                        <div class="min-w-[92px] text-right font-semibold whitespace-normal">1 ~ 30pt</div>
                      </li>
                      <li class="px-4 py-3 flex items-start gap-3"
                          ><div class="flex-1 text-sm leading-5">다이아 1개 소모</div>
                        <div class="min-w-[92px] text-right font-semibold whitespace-normal">1pt</div>
                      </li>
                    </ul>
                  </section>

                  <!-- 금요일 -->
                  <section class="rounded-xl border border-slate-200 bg-white shadow-sm overflow-hidden">
                    <div class="px-4 py-3 bg-orange-100 flex items-center justify-between">
                      <div class="font-bold text-slate-900">금요일</div>
                      
                    </div>
                    <ul class="divide-y divide-slate-100">
                      <li class="px-4 py-3 flex items-start gap-3">
                        <div class="flex-1 text-sm leading-5">임의의 등급 행상 1회 호송</div>
                        <div class="min-w-[92px] text-right font-semibold whitespace-normal">10,000pt</div>
                      </li>
                      <li class="px-4 py-3 flex items-start gap-3">
                        <div class="flex-1 text-sm leading-5">임의의 등급 행상 1회 약탈</div>
                        <div class="min-w-[92px] text-right font-semibold whitespace-normal">10,000pt</div>
                      </li>
                      <li class="px-4 py-3 flex items-start gap-3">
                        <div class="flex-1 text-sm leading-5">영주 장비 업그레이드</div>
                        <div class="min-w-[92px] text-right font-semibold whitespace-normal">1종 22pt</div>
                      </li>
                      <li class="px-4 py-3 flex items-start gap-3">
                        <div class="flex-1 text-sm leading-5">제련된 불의 수정 1개 소모</div>
                        <div class="min-w-[92px] text-right font-semibold whitespace-normal">18,750pt</div>
                      </li>
                      <li class="px-4 py-3 flex items-start gap-3">
                        <div class="flex-1 text-sm leading-5">불의 수정 1개 소모</div>
                        <div class="min-w-[92px] text-right font-semibold whitespace-normal">1,250pt</div>
                      </li>
                      <li class="px-4 py-3 flex items-start gap-3">
                        <div class="flex-1 text-sm leading-5">불의 수정 조각 1개 소모</div>
                        <div class="min-w-[92px] text-right font-semibold whitespace-normal">625pt</div>
                      </li>
                      <li class="px-4 py-3 flex items-start gap-3">
                        <div class="flex-1 text-sm leading-5">건설/연구/훈련 가속</div>
                        <div class="min-w-[92px] text-right font-semibold whitespace-normal">1분 18pt</div>
                      </li>
                      <li class="px-4 py-3 flex items-start gap-3">
                        <div class="flex-1 text-sm leading-5">다이아 1개 소모</div>
                        <div class="min-w-[92px] text-right font-semibold whitespace-normal">1pt</div>
                      </li>
                    </ul>
                  </section>

                  <!-- 토요일 -->
                  <section class="rounded-xl border border-slate-200 bg-white shadow-sm overflow-hidden">
                    <div class="px-4 py-3 bg-orange-100 flex items-center justify-between">
                      <div class="font-bold text-slate-900">토요일</div>
                      
                    </div>
                    <ul class="divide-y divide-slate-100">
                      <li class="px-4 py-3 flex items-start gap-3">
                        <div class="flex-1 text-sm leading-5">임의의 등급 행상 1회 호송</div>
                        <div class="min-w-[92px] text-right font-semibold whitespace-normal">10,000pt</div>
                      </li>
                      <li class="px-4 py-3 flex items-start gap-3">
                        <div class="flex-1 text-sm leading-5">임의의 등급 행상 1회 약탈</div>
                        <div class="min-w-[92px] text-right font-semibold whitespace-normal">10,000pt</div>
                      </li>
                      <li class="px-4 py-3 flex items-start gap-3">
                        <div class="flex-1 text-sm leading-5">영주 장비 업그레이드</div>
                        <div class="min-w-[92px] text-right font-semibold whitespace-normal">1종 22pt</div>
                      </li>
                      <li class="px-4 py-3 flex items-start gap-3">
                        <div class="flex-1 text-sm leading-5">영주 보석</div>
                        <div class="min-w-[92px] text-right font-semibold whitespace-normal">1pt당 45pt</div
                          ></li>
                      <li class="px-4 py-3 flex items-start gap-3">
                        <div class="flex-1 text-sm leading-5">마스터리 에너지석 1개 소모</div>
                        <div class="min-w-[92px] text-right font-semibold whitespace-normal">1,875pt</div>
                      </li>
                      <li class="px-4 py-3 flex items-start gap-3">
                        <div class="flex-1 text-sm leading-5">임의의 영웅 전용장비 부속품 1개 소모</div>
                        <div class="min-w-[92px] text-right font-semibold whitespace-normal">3,750pt</div>
                      </li>
                      <li class="px-4 py-3 flex items-start gap-3">
                        <div class="flex-1 text-sm leading-5">미스릴 1개 소모</div>
                        <div class="min-w-[92px] text-right font-semibold whitespace-normal">18,750pt</div>
                      </li>
                      <li class="px-4 py-3 flex items-start gap-3">
                        <div class="flex-1 text-sm leading-5">레어 영웅 성급업</div>
                        <div class="min-w-[92px] text-right font-semibold whitespace-normal">1개 210pt</div>
                      </li>
                      <li class="px-4 py-3 flex items-start gap-3">
                        <div class="flex-1 text-sm leading-5">에픽 영웅 성급업</div>
                        <div class="min-w-[92px] text-right font-semibold whitespace-normal">1개 750pt</div>
                      </li>
                      <li class="px-4 py-3 flex items-start gap-3">
                        <div class="flex-1 text-sm leading-5">레전드 영웅 성급업</div>
                        <div class="min-w-[92px] text-right font-semibold whitespace-normal">1개 1,875pt</div>
                      </li>
                      <li class="px-4 py-3 flex items-start gap-3">
                        <div class="flex-1 text-sm leading-5">펫 돌파</div>
                        <div class="min-w-[92px] text-right font-semibold whitespace-normal">1개 30pt</div>
                      </li>
                      <li class="px-4 py-3 flex items-start gap-3">
                        <div class="flex-1 text-sm leading-5">고급 펫 단련</div>
                        <div class="min-w-[92px] text-right font-semibold whitespace-normal">1개 9,370pt</div>
                      </li>
                      <li class="px-4 py-3 flex items-start gap-3">
                        <div class="flex-1 text-sm leading-5">일반 펫 단련</div>
                        <div class="min-w-[92px] text-right font-semibold whitespace-normal">1개 680pt</div>
                      </li>
                      <li class="px-4 py-3 flex items-start gap-3">
                        <div class="flex-1 text-sm leading-5">불의 수정 1개 소모</div>
                        <div class="min-w-[92px] text-right font-semibold whitespace-normal">1,250pt</div>
                      </li>
                      <li class="px-4 py-3 flex items-start gap-3">
                        <div class="flex-1 text-sm leading-5">불의 수정 조각 1개 소모</div>
                        <div class="min-w-[92px] text-right font-semibold whitespace-normal">625pt</div>
                      </li>
                      <li class="px-4 py-3 flex items-start gap-3">
                        <div class="flex-1 text-sm leading-5">건설/연구/훈련 가속</div>
                        <div class="min-w-[92px] text-right font-semibold whitespace-normal">1분 18pt</div>
                      </li>
                      <li class="px-4 py-3 flex items-start gap-3">
                        <div class="flex-1 text-sm leading-5">다이아 1개 소모</div>
                        <div class="min-w-[92px] text-right font-semibold whitespace-normal">1pt</div>
                      </li>
                    </ul>
                  </section>

                </div>
              </div>
            </details>
            
            <details id="detail3" class="bg-white border border-blue-300 rounded-md p-4" open>
              <summary class="cursor-pointer text-lg font-bold text-blue-700 mb-2">🔥 용광로 업그레이드 조건</summary>

              <div id="용광로조건" class="mt-3 space-y-4 text-sm text-gray-800">
                <!-- ✅ 카드 그리드 (모바일 1열 / md 2열) -->
                <div class="grid grid-cols-1 md:grid-cols-2 gap-3">

                  <!-- FC1 ~ FC5 카드 -->
                  <section class="rounded-xl border border-slate-200 bg-white shadow-sm overflow-hidden">
                    <ul class="divide-y divide-slate-100">
                      <li class="px-4 py-3 flex items-start gap-3">
                        <div class="min-w-[52px] text-left text-sm font-semibold ">FC1</div>
                        <div class="flex-1 text-sm leading-5">대사관 Lv.30, 연구소 Lv.30</div>
                      </li>
                      <li class="px-4 py-3 flex items-start gap-3">
                        <div class="min-w-[52px] text-left text-sm font-semibold ">FC2</div>
                        <div class="flex-1 text-sm leading-5">대사관 FC1, 창병 병영 FC1</div>
                      </li>
                      <li class="px-4 py-3 flex items-start gap-3">
                        <div class="min-w-[52px] text-left text-sm font-semibold ">FC3</div>
                        <div class="flex-1 text-sm leading-5">대사관 FC2, 방패 병영 FC2</div>
                      </li>
                      <li class="px-4 py-3 flex items-start gap-3">
                        <div class="min-w-[52px] text-left text-sm font-semibold ">FC4</div>
                        <div class="flex-1 text-sm leading-5">대사관 FC3, 궁병 병영 FC3</div>
                      </li>
                      <li class="px-4 py-3 flex items-start gap-3">
                        <div class="min-w-[52px] text-left text-sm font-semibold ">FC5</div>
                        <div class="flex-1 text-sm leading-5">대사관 FC4, 창병 병영 FC4</div>
                      </li>
                      <li class="px-4 py-3 flex items-start gap-3">
                        <div class="min-w-[52px] text-left text-sm font-semibold ">FC6</div>
                        <div class="flex-1 text-sm leading-5">대사관 FC5, 방패 병영 FC5</div>
                      </li>
                      <li class="px-4 py-3 flex items-start gap-3">
                        <div class="min-w-[52px] text-left text-sm font-semibold ">FC7</div>
                        <div class="flex-1 text-sm leading-5">대사관 FC6, 궁병 병영 FC6</div>
                      </li>
                      <li class="px-4 py-3 flex items-start gap-3">
                        <div class="min-w-[52px] text-left text-sm font-semibold ">FC8</div>
                        <div class="flex-1 text-sm leading-5">대사관 FC7, 창병 병영 FC7</div>
                      </li>
                      <li class="px-4 py-3 flex items-start gap-3">
                        <div class="min-w-[52px] text-left text-sm font-semibold ">FC9</div>
                        <div class="flex-1 text-sm leading-5">대사관 FC8, 방패 병영 FC8</div>
                      </li>
                      <li class="px-4 py-3 flex items-start gap-3">
                        <div class="min-w-[52px] text-left text-sm font-semibold ">FC10</div>
                        <div class="flex-1 text-sm leading-5">대사관 FC9, 궁병 병영 FC9</div>
                      </li>
                    </ul>
                  </section>
                </div>
              </div>
            </details>

            <!-- 정제불수 기댓값 (카드형) -->
            <details class="bg-white border border-blue-300 rounded-md p-4" open>
              <summary class="cursor-pointer text-lg font-bold text-blue-700 mb-2">🔥 제련불수 기대값</summary>

              <div id="제련불수" class="mt-3 space-y-4 text-sm text-gray-800">
                <!-- ✅ 전체 래퍼 카드 -->
                <section class="rounded-xl border border-slate-200 bg-white shadow-sm overflow-hidden">
                  <div class="px-4 py-3 bg-orange-100 flex items-center justify-between">
                    <div class="font-bold text-slate-900">제련 시나리오별 기대값</div>
                    <div class="text-sm text-slate-900">주간 기준</div>
                  </div>

                  <!-- ✅ 컬럼 헤더(테이블 느낌만 살짝, 배경색 과하지 않게) -->
                  <div class="px-4 py-2 border-b border-slate-100 text-[12px]hidden sm:block">
                    <div class="grid grid-cols-12 gap-3">
                      <div class="col-span-6 font-semibold">제련 방식</div>
                      <div class="col-span-3 text-right font-semibold">주당 불수 소모</div>
                      <div class="col-span-3 text-right font-semibold">주당 획득 제련불수</div>
                    </div>
                  </div>

                  <!-- ✅ 행 리스트 -->
                  <ul class="divide-y divide-slate-100">
                    <!-- 1 -->
                    <li class="px-4 py-3">
                      <div class="grid grid-cols-1 sm:grid-cols-12 gap-2 sm:gap-3 items-start">
                        <div class="sm:col-span-6 leading-5">
                          매일 한 번씩만 제련
                        </div>

                        <div class="sm:col-span-3 flex sm:block justify-between sm:justify-end">
                          <div class="flex-1 text-sm leading-5">주당 불수 소모</div>
                          <div class="text-right font-semibold tabular-nums">70</div>
                        </div>

                        <div class="sm:col-span-3 flex sm:block justify-between sm:justify-end">
                          <div class="flex-1 text-sm leading-5">주당 획득</div>
                          <div class="text-right font-semibold tabular-nums">10.15</div>
                        </div>
                      </div>
                    </li>

                    <!-- 2 -->
                    <li class="px-4 py-3">
                      <div class="grid grid-cols-1 sm:grid-cols-12 gap-2 sm:gap-3 items-start">
                        <div class="sm:col-span-6 leading-5">
                          월요일 14번, 이후 매일 한 번씩(주 20회)
                        </div>
                        <div class="sm:col-span-3 flex sm:block justify-between sm:justify-end">
                          <div class="text-sm sm:hidden">주당 불수 소모</div>
                          <div class="text-right font-semibold tabular-nums">330</div>
                        </div>
                        <div class="sm:col-span-3 flex sm:block justify-between sm:justify-end">
                          <div class="text-sm sm:hidden">주당 획득</div>
                          <div class="text-right font-semibold tabular-nums">29.00</div>
                        </div>
                      </div>
                    </li>

                    <!-- 3 -->
                    <li class="px-4 py-3">
                      <div class="grid grid-cols-1 sm:grid-cols-12 gap-2 sm:gap-3 items-start">
                        <div class="sm:col-span-6 text-gray-700 leading-5">
                          월요일 20번, 이후 매일 한 번씩(주 26회)
                        </div>
                        <div class="sm:col-span-3 flex sm:block justify-between sm:justify-end">
                          <div class="flex-1 text-sm leading-5">주당 불수 소모</div>
                          <div class="text-right font-semibold tabular-nums">540</div>
                        </div>
                        <div class="sm:col-span-3 flex sm:block justify-between sm:justify-end">
                          <div class="flex-1 text-sm leading-5">주당 획득</div>
                          <div class="text-right font-semibold tabular-nums">41.90</div>
                        </div>
                      </div>
                    </li>

                    <!-- 4 -->
                    <li class="px-4 py-3">
                      <div class="grid grid-cols-1 sm:grid-cols-12 gap-2 sm:gap-3 items-start">
                        <div class="sm:col-span-6 text-gray-700 leading-5">
                          월요일 34번, 이후 매일 한 번씩(주 40회)
                        </div>
                        <div class="sm:col-span-3 flex sm:block justify-between sm:justify-end">
                          <div class="flex-1 text-sm leading-5">주당 불수 소모</div>
                          <div class="text-right font-semibold tabular-nums">1,240</div>
                        </div>
                        <div class="sm:col-span-3 flex sm:block justify-between sm:justify-end">
                          <div class="flex-1 text-sm leading-5">주당 획득</div>
                          <div class="text-right font-semibold tabular-nums">72.00</div>
                        </div>
                      </div>
                    </li>

                    <!-- 5 -->
                    <li class="px-4 py-3">
                      <div class="grid grid-cols-1 sm:grid-cols-12 gap-2 sm:gap-3 items-start">
                        <div class="sm:col-span-6 text-gray-700 leading-5">
                          월요일 40번, 이후 매일 한 번씩(주 46회)
                        </div>
                        <div class="sm:col-span-3 flex sm:block justify-between sm:justify-end">
                          <div class="flex-1 text-sm leading-5">주당 불수 소모</div>
                          <div class="text-right font-semibold tabular-nums">1,690</div>
                        </div>
                        <div class="sm:col-span-3 flex sm:block justify-between sm:justify-end">
                          <div class="flex-1 text-sm leading-5">주당 획득</div>
                          <div class="text-right font-semibold tabular-nums">91.08</div>
                        </div>
                      </div>
                    </li>

                    <!-- 6 -->
                    <li class="px-4 py-3">
                      <div class="grid grid-cols-1 sm:grid-cols-12 gap-2 sm:gap-3 items-start">
                        <div class="sm:col-span-6 text-gray-700 leading-5">
                          월요일 54번, 이후 매일 한 번씩(주 60회)
                        </div>
                        <div class="sm:col-span-3 flex sm:block justify-between sm:justify-end">
                          <div class="flex-1 text-sm leading-5">주당 불수 소모</div>
                          <div class="text-right font-semibold tabular-nums">3,090</div>
                        </div>
                        <div class="sm:col-span-3 flex sm:block justify-between sm:justify-end">
                          <div class="flex-1 text-sm leading-5">주당 획득</div>
                          <div class="text-right font-semibold tabular-nums">135.60</div>
                        </div>
                      </div>
                    </li>

                    <!-- 7 -->
                    <li class="px-4 py-3">
                      <div class="grid grid-cols-1 sm:grid-cols-12 gap-2 sm:gap-3 items-start">
                        <div class="sm:col-span-6 text-gray-700 leading-5">
                          월요일 60번, 이후 매일 한 번씩(주 66회)
                        </div>
                        <div class="sm:col-span-3 flex sm:block justify-between sm:justify-end">
                          <div class="flex-1 text-sm leading-5">주당 불수 소모</div>
                          <div class="text-right font-semibold tabular-nums">3,700</div>
                        </div>
                        <div class="sm:col-span-3 flex sm:block justify-between sm:justify-end">
                          <div class="flex-1 text-sm leading-5">주당 획득</div>
                          <div class="text-right font-semibold tabular-nums">156.60</div>
                        </div>
                      </div>
                    </li>

                    <!-- 8 -->
                    <li class="px-4 py-3">
                      <div class="grid grid-cols-1 sm:grid-cols-12 gap-2 sm:gap-3 items-start">
                        <div class="sm:col-span-6 text-gray-700 leading-5">
                          월요일 74번, 이후 매일 한 번씩(주 80회)
                        </div>
                        <div class="sm:col-span-3 flex sm:block justify-between sm:justify-end">
                          <div class="flex-1 text-sm leading-5">주당 불수 소모</div>
                          <div class="text-right font-semibold tabular-nums">5,600</div>
                        </div>
                        <div class="sm:col-span-3 flex sm:block justify-between sm:justify-end">
                          <div class="flex-1 text-sm leading-5">주당 획득</div>
                          <div class="text-right font-semibold tabular-nums">204.60</div>
                        </div>
                      </div>
                    </li>

                    <!-- 9 -->
                    <li class="px-4 py-3">
                      <div class="grid grid-cols-1 sm:grid-cols-12 gap-2 sm:gap-3 items-start">
                        <div class="sm:col-span-6 text-gray-700 leading-5">
                          월요일 80번, 이후 매일 한 번씩(주 86회)
                        </div>
                        <div class="sm:col-span-3 flex sm:block justify-between sm:justify-end">
                          <div class="flex-1 text-sm leading-5">주당 불수 소모</div>
                          <div class="text-right font-semibold tabular-nums">6,470</div>
                        </div>
                        <div class="sm:col-span-3 flex sm:block justify-between sm:justify-end">
                          <div class="flex-1 text-sm leading-5">주당 획득</div>
                          <div class="text-right font-semibold tabular-nums">226.56</div>
                        </div>
                      </div>
                    </li>

                    <!-- 10 -->
                    <li class="px-4 py-3">
                      <div class="grid grid-cols-1 sm:grid-cols-12 gap-2 sm:gap-3 items-start">
                        <div class="sm:col-span-6 text-gray-700 leading-5">
                          월요일 94번, 이후 매일 한 번씩(주 100회)
                        </div>
                        <div class="sm:col-span-3 flex sm:block justify-between sm:justify-end">
                          <div class="flex-1 text-sm leading-5">주당 불수 소모</div>
                          <div class="text-right font-semibold tabular-nums">8,710</div>
                        </div>
                        <div class="sm:col-span-3 flex sm:block justify-between sm:justify-end">
                          <div class="flex-1 text-sm leading-5">주당 획득</div>
                          <div class="text-right font-semibold tabular-nums">278.50</div>
                        </div>
                      </div>
                    </li>

                  </ul>
                </section>
              </div>
            </details>

            <!-- 영웅 성급업 -->
            <details id="detail2" class="bg-white border border-blue-300 rounded-md p-4" open>
              <summary class="cursor-pointer text-lg font-bold text-blue-700 mb-2">🌟 영웅성급업표</summary>
              <div id="영웅성급" class="mt-3 space-y-4 text-sm">
                <div class="tblwrap">
                  <h2>최초 모집 시 영웅조각 10개 필요</h2>
                  <table id="hero-upgrade-table" class="table-auto border w-full text-xs text-center">
                    <thead class="bg-orange-100">
                      <th class="border p-1">등급</th>
                      <th class="border p-1">
                        <img src="images/tier1.webp" class="w-6 h-6 mx-auto" alt="1단계">
                      </th>
                      <th class="border p-1">
                        <img src="images/tier2.webp" class="w-6 h-6 mx-auto" alt="2단계">
                      </th>
                      <th class="border p-1">
                        <img src="images/tier3.webp" class="w-6 h-6 mx-auto" alt="3단계">
                      </th>
                      <th class="border p-1">
                        <img src="images/tier4.webp" class="w-6 h-6 mx-auto" alt="4단계">
                      </th>
                      <th class="border p-1">
                        <img src="images/tier5.webp" class="w-6 h-6 mx-auto" alt="5단계">
                      </th>
                      <th class="border p-1">
                        <img src="images/tier6.webp" class="w-6 h-6 mx-auto" alt="6단계">
                      </th>
                      <th class="border p-1">SubTotal</th>
                    </thead>
                    <tbody>
                      <tr>
                        <td class="border p-1">1성</td>
                        <td class="border p-1">1</td>
                        <td class="border p-1">1</td>
                        <td class="border p-1">2</td>
                        <td class="border p-1">2</td>
                        <td class="border p-1">2</td>
                        <td class="border p-1">2</td>
                        <td class="border p-1">20</td>
                      </tr>
                      <tr>
                        <td class="border p-1">2성</td>
                        <td class="border p-1">5</td>
                        <td class="border p-1">5</td>
                        <td class="border p-1">5</td>
                        <td class="border p-1">5</td>
                        <td class="border p-1">5</td>
                        <td class="border p-1">15</td>
                        <td class="border p-1">40</td>
                      </tr>
                      <tr>
                        <td class="border p-1">3성</td>
                        <td class="border p-1">15</td>
                        <td class="border p-1">15</td>
                        <td class="border p-1">15</td>
                        <td class="border p-1">15</td>
                        <td class="border p-1">15</td>
                        <td class="border p-1">40</td>
                        <td class="border p-1">115</td>
                      </tr>
                      <tr>
                        <td class="border p-1">4성</td>
                        <td class="border p-1">40</td>
                        <td class="border p-1">40</td>
                        <td class="border p-1">40</td>
                        <td class="border p-1">40</td>
                        <td class="border p-1">40</td>
                        <td class="border p-1">100</td>
                        <td class="border p-1">300</td>
                      </tr>
                      <tr>
                        <td class="border p-1">5성</td>
                        <td class="border p-1">100</td>
                        <td class="border p-1">100</td>
                        <td class="border p-1">100</td>
                        <td class="border p-1">100</td>
                        <td class="border p-1">100</td>
                        <td class="border p-1">100</td>
                        <td class="border p-1">600</td>
                      </tr>
                    </tbody>
                    <tfoot>
                      <tr class="font-bold">
                        <td colspan="7" class="border px-2 py-1 text-right">Total</td>
                        <td class="border p-1">1075</td>
                      </tr>
                    </tfoot>
                  </table>
                </div>
              </div>

              <div class="card w-full">
                <!-- ✅ 전부 가로 한 줄 (넘치면 가로 스크롤) -->
                <div class="row">
                  <div style="font-weight:600;">보유 영웅 조각 수 : </div>
                  <input id="pieceInput" type="number" min="0" value="0" max="1075" class="input">
                  <div style="font-weight:600">기대 결과</div>
                  <div id="hero-shard-strip"></div>
                  <p id="tierFallback" class="hidden text-gray-400"></p>
                </div>
              </div>
            </details>

            <!-- VIP 점수 -->
            <details id="detail1" class="bg-white border border-blue-300 rounded-md p-4" open>
              <summary class="cursor-pointer text-lg font-bold text-blue-700 mb-2">🔰 VIP 구간별 경험치</summary>

              <div class="mt-3 space-y-4 text-sm text-gray-800">
                <!-- ✅ 카드 그리드: 모바일 1열 / md 2열 -->
                <div class="grid grid-cols-1 md:grid-cols-2 gap-3">

                  <!-- ✅ 카드1: 구간별 경험치 -->
                  <section class="rounded-xl border border-slate-200 bg-white shadow-sm overflow-hidden">
                    <div class="px-4 py-3 bg-orange-100 flex items-center justify-between">
                      <div class="font-bold text-slate-900">구간별 경험치</div>
                    </div>
                    <ul class="divide-y divide-slate-100">
                      <li class="px-4 py-3">
                        <div class="grid grid-cols-1 sm:grid-cols-1 gap-2 sm:gap-3 items-start">
                          <div class="text-gray-700 font-semibold">VIP1 → VIP2</div>
                          <div class="flex-1 text-sm leading-5">경험치 : 2,500</div>
                        </div>
                      </li>

                      <li class="px-4 py-3">
                        <div class="grid grid-cols-1 sm:grid-cols-12 gap-2 sm:gap-3 items-start">
                          <div class="text-gray-700 font-semibold">VIP2 → VIP3</div>
                          <div class="flex-1 text-sm leading-5">경험치 : 5,000</div>
                        </div>
                      </li>

                      <li class="px-4 py-3">
                        <div class="grid grid-cols-1 sm:grid-cols-12 gap-2 sm:gap-3 items-start">
                          <div class="text-gray-700 font-semibold">VIP3 → VIP4</div>
                          <div class="flex-1 text-sm leading-5">경험치 : 12,500</div>
                        </div>
                      </li>

                      <li class="px-4 py-3">
                        <div class="grid grid-cols-1 sm:grid-cols-12 gap-2 sm:gap-3 items-start">
                          <div class="text-gray-700 font-semibold">VIP4 → VIP5</div>
                          <div class="flex-1 text-sm leading-5">경험치 : 30,000</div>
                        </div>
                      </li>

                      <li class="px-4 py-3">
                        <div class="grid grid-cols-1 sm:grid-cols-12 gap-2 sm:gap-3 items-start">
                          <div class="text-gray-700 font-semibold">VIP5 → VIP6</div>
                          <div class="flex-1 text-sm leading-5">경험치 : 40,000</div>
                        </div>
                      </li>

                      <li class="px-4 py-3">
                        <div class="grid grid-cols-1 sm:grid-cols-12 gap-2 sm:gap-3 items-start">
                          <div class="text-gray-700 font-semibold">VIP6 → VIP7</div>
                          <div class="flex-1 text-sm leading-5">경험치 : 60,000</div>
                        </div>
                      </li>

                      <li class="px-4 py-3">
                        <div class="grid grid-cols-1 sm:grid-cols-12 gap-2 sm:gap-3 items-start">
                          <div class="text-gray-700 font-semibold">VIP7 → VIP8</div>
                          <div class="flex-1 text-sm leading-5">경험치 : 100,000</div>
                        </div>
                      </li>

                      <li class="px-4 py-3">
                        <div class="grid grid-cols-1 sm:grid-cols-12 gap-2 sm:gap-3 items-start">
                          <div class="text-gray-700 font-semibold">VIP8 → VIP9</div>
                          <div class="flex-1 text-sm leading-5">경험치 : 350,000</div>
                        </div>
                      </li>

                      <li class="px-4 py-3">
                        <div class="grid grid-cols-1 sm:grid-cols-12 gap-2 sm:gap-3 items-start">
                          <div class="text-gray-700 font-semibold">VIP9 → VIP10</div>
                          <div class="flex-1 text-sm leading-5">경험치 : 600,000</div>
                        </div>
                      </li>

                      <li class="px-4 py-3">
                        <div class="grid grid-cols-1 sm:grid-cols-12 gap-2 sm:gap-3 items-start">
                        <div class="text-gray-700 font-semibold">VIP10 → VIP11</div>
                        <div class="flex-1 text-sm leading-5">경험치 : 1,200,000</div>
                        </div>
                      </li>

                      <li class="px-4 py-3">
                        <div class="grid grid-cols-1 sm:grid-cols-12 gap-2 sm:gap-3 items-start">
                          <div class="text-gray-700 font-semibold">VIP11 → VIP12</div>
                          <div class="flex-1 text-sm leading-5">경험치 : 2,400,000</div>
                        </div>
                      </li>
                    </ul>
                  </section>

                  <!-- ✅ 카드2: 패키지별 VIP 포인트 -->
                  <section class="rounded-xl border border-slate-200 bg-white shadow-sm overflow-hidden">
                    <div class="px-4 py-3 bg-orange-100 flex items-center justify-between">
                      <div class="font-bold text-slate-900">패키지별 VIP 포인트</div>
                    </div>

                    <div class="px-4 py-2 border-b border-slate-100 text-[12px] sm:block">
                      <div class="grid grid-cols-3 gap-3">
                        <div class="font-semibold">가격</div>
                        <div class="font-semibold">VIP점수</div>
                        <div class="text-right font-semibold">개수</div>
                      </div>
                    </div>

                    <ul class="divide-y divide-slate-100">
                      <li class="px-4 py-3">
                        <div class="grid grid-cols-3 gap-2 sm:gap-3 items-start">
                          <div class="text-gray-700 font-semibold">1,500</div>
                          <div class="text-gray-700">100pt</div>
                          <div class="text-right font-semibold tabular-nums">5</div>
                        </div>
                      </li>

                      <li class="px-4 py-3">
                        <div class="grid grid-cols-3 gap-2 sm:gap-3 items-start">
                          <div class="text-gray-700 font-semibold tabular-nums">4,400</div>
                          <div class="text-gray-700">100pt</div>
                          <div class="text-right font-semibold tabular-nums">15</div>
                        </div>
                      </li>

                      <li class="px-4 py-3">
                        <div class="grid grid-cols-3 gap-2 sm:gap-3 items-start">
                          <div class="text-gray-700 font-semibold tabular-nums">7,500</div>
                          <div class="text-gray-700">100pt</div>
                          <div class="text-right font-semibold tabular-nums">25</div>
                        </div>
                      </li>

                      <li class="px-4 py-3">
                        <div class="grid grid-cols-3 gap-2 sm:gap-3 items-start">
                          <div class="text-gray-700 font-semibold tabular-nums">15,000</div>
                          <div class="text-gray-700">100pt</div>
                          <div class="text-right font-semibold tabular-nums">40</div>
                        </div>
                      </li>

                      <li class="px-4 py-3">
                        <div class="grid grid-cols-3 gap-2 sm:gap-3 items-start">
                          <div class="text-gray-700 font-semibold tabular-nums">30,000</div>
                          <div class="text-gray-700">100pt</div>
                          <div class="text-right font-semibold tabular-nums">60</div>
                        </div>
                      </li>

                      <li class="px-4 py-3">
                        <div class="grid grid-cols-3 gap-2 sm:gap-3 items-start">
                          <div class="text-gray-700 font-semibold tabular-nums">79,000</div>
                          <div class="text-gray-700">1000pt</div>
                          <div class="text-right font-semibold tabular-nums">12</div>
                        </div>
                      </li>

                      <li class="px-4 py-3">
                        <div class="grid grid-cols-3 gap-2 sm:gap-3 items-start">
                          <div class="text-gray-700 font-semibold tabular-nums">149,000</div>
                          <div class="text-gray-700">1000pt</div>
                          <div class="text-right font-semibold tabular-nums">20</div>
                        </div>
                      </li>
                    </ul>
                  </section>

                </div>
              </div>
            </details>

            <!-- 깃발해금 -->
            <details class="bg-white border border-blue-300 rounded-md p-4">
              <summary class="cursor-pointer text-lg font-bold text-blue-700 mb-2">🚩 합병 후 깃발해금</summary>
              <div id="깃발해금" class="mt-3 space-y-4 text-sm text-gray-800">
                <div class="tblwrap">
                  <table class="table-auto border w-full text-xs text-center">
                  <thead class="bg-orange-100">
                    <tr>
                      <th class="border p-1">구간</th>
                      <th class="border p-1">개수</th>
                      <th class="border p-1">배너당 시간</th>
                      <th class="border p-1">총 소요 시간</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td class="border p-1">기본 깃발</td>
                      <td class="border p-1">5개</td>
                      <td class="border p-1">0시간</td>
                      <td class="border p-1">0시간</td>
                    </tr>
                    <tr>
                      <td class="border p-1">6번째 ~ 10번째</td>
                      <td class="border p-1">5개</td>
                      <td class="border p-1">2시간</td>
                      <td class="border p-1">10시간</td>
                    </tr>
                    <tr>
                      <td class="border p-1">11번째 ~ 20번째</td>
                      <td class="border p-1">10개</td>
                      <td class="border p-1">1시간</td>
                      <td class="border p-1">10시간</td>
                    </tr>
                    <tr>
                      <td class="border p-1">21번째 ~ 60번째</td>
                      <td class="border p-1">40개</td>
                      <td class="border p-1">0.5시간 (30분)</td>
                      <td class="border p-1">20시간</td>
                    </tr>
                    <tr>
                      <td class="border p-1">61번째 ~ 285번째</td>
                      <td class="border p-1">225개</td>
                      <td class="border p-1">0.25시간 (15분)</td>
                      <td class="border p-1">56.25시간</td>
                    </tr>
                    <tr class="font-bold">
                      <td class="border p-1">총합</td>
                      <td class="border p-1">285개</td>
                      <td class="border p-1"></td>
                      <td class="border p-1">96시간 15분</td>
                    </tr>
                  </tbody>
                </table>
                </div>
              </div>
            </details>            
            
            <!-- 단어번역 -->
            <details class="bg-white border border-blue-300 rounded-md p-4">
              <summary class="cursor-pointer text-lg font-bold text-blue-700 mb-2">💬 각종 용어 안내</summary>
              <div id="용어안내" class="mt-3 space-y-4 text-sm text-gray-800">
                <p class="text-gray-500 text-sm">📦 데이터 로딩 중...</p>
              </div>
            </details>

            <!-- 요새 주차별 보상 -->
            <details class="border border-blue-300 rounded-md p-4 shadow">
              <summary class="cursor-pointer text-lg font-bold text-blue-700 mb-2">👑 요새 주차별 보상</summary>
              <div class="tblwrap w-full">
                <table id="fortress" class="min-w-full table-fixed border border-gray-400 text-center">
                  <thead class="bg-orange-100 font-semibold">
                    <tr>
                      <th class="border p-1 w-10">요새</th>
                      <th class="border p-1">1주차</th>
                      <th class="border p-1">2주차</th>
                      <th class="border p-1">3주차</th>
                      <th class="border p-1">4주차</th>
                      <th class="border p-1">5주차</th>
                      <th class="border p-1">6주차</th>
                      <th class="border p-1">7주차</th>
                      <th class="border p-1">8주차</th>
                    </tr>
                  </thead>
                  <tbody>
                    <!-- 요새 1 -->
                    <tr>
                      <td class="border p-1">1</td>
                      <td class="border p-1">SSR 파편</td>
                      <td class="border p-1">HP 증가</td>
                      <td class="border p-1">공용 가속</td>
                      <td class="border p-1">텔레포트</td>
                      <td class="border p-1">일반 야성의 표식</td>
                      <td class="border p-1">HP 증가</td>
                      <td class="border p-1">공용 가속</td>
                      <td class="border p-1">경험치 강화</td>
                    </tr>

                    <!-- 요새 2 -->
                    <tr>
                      <td class="border p-1">2</td>
                      <td class="border p-1">텔레포트</td>
                      <td class="border p-1">SSR 파편</td>
                      <td class="border p-1">HP 증가</td>
                      <td class="border p-1">경험치 강화</td>
                      <td class="border p-1">경험치 강화</td>
                      <td class="border p-1">일반 야성의 표식</td>
                      <td class="border p-1">HP 증가</td>
                      <td class="border p-1">공용가속</td>
                    </tr>

                    <!-- 요새 3 -->
                    <tr>
                      <td class="border p-1">3</td>
                      <td class="border p-1">공용 가속</td>
                      <td class="border p-1">텔레포트</td>
                      <td class="border p-1">SSR 파편</td>
                      <td class="border p-1">HP 증가</td>
                      <td class="border p-1">공용 가속</td>
                      <td class="border p-1">경험치 강화</td>
                      <td class="border p-1">일반 야성의 표식</td>
                      <td class="border p-1">HP 증가</td>
                    </tr>

                    <!-- 요새 4 -->
                    <tr>
                      <td class="border p-1">4</td>
                      <td class="border p-1">HP 증가</td>
                      <td class="border p-1">공용 가속</td>
                      <td class="border p-1">텔레포트</td>
                      <td class="border p-1">스킬북</td>
                      <td class="border p-1">텔레포트</td>
                      <td class="border p-1">공용 가속</td>
                      <td class="border p-1">경험치 강화</td>
                      <td class="border p-1">일반 야성의 표식</td>
                    </tr>

                    <!-- 요새 5 -->
                    <tr>
                      <td class="border p-1">5</td>
                      <td class="border p-1">SSR 파편</td>
                      <td class="border p-1">피해 증가</td>
                      <td class="border p-1">공용 가속</td>
                      <td class="border p-1">스킬북</td>
                      <td class="border p-1">일반 야성의 표식</td>
                      <td class="border p-1">피해 증가</td>
                      <td class="border p-1">공용 가속</td>
                      <td class="border p-1">경험치 강화</td>
                    </tr>

                    <!-- 요새 6 -->
                    <tr>
                      <td class="border p-1">6</td>
                      <td class="border p-1">텔레포트</td>
                      <td class="border p-1">SSR 파편</td>
                      <td class="border p-1">피해 증가</td>
                      <td class="border p-1">공용 가속</td>
                      <td class="border p-1">경험치 강화</td>
                      <td class="border p-1">일반 야성의 표식</td>
                      <td class="border p-1">피해 증가</td>
                      <td class="border p-1">공용 가속</td>
                    </tr>

                    <!-- 요새 7 -->
                    <tr>
                      <td class="border p-1">7</td>
                      <td class="border p-1">공용 가속</td>
                      <td class="border p-1">텔레포트</td>
                      <td class="border p-1">SSR 파편</td>
                      <td class="border p-1">텔레포트</td>
                      <td class="border p-1">공용 가속</td>
                      <td class="border p-1">경험치 강화</td>
                      <td class="border p-1">일반 야성의 표식</td>
                      <td class="border p-1">피해 증가</td>
                    </tr>

                    <!-- 요새 8 -->
                    <tr>
                      <td class="border p-1">8</td>
                      <td class="border p-1">피해 증가</td>
                      <td class="border p-1">공용 가속</td>
                      <td class="border p-1">텔레포트</td>
                      <td class="border p-1">경험치 강화</td>
                      <td class="border p-1">텔레포트</td>
                      <td class="border p-1">공용 가속</td>
                      <td class="border p-1">경험치 강화</td>
                      <td class="border p-1">일반 야성의 표식</td>
                    </tr>

                    <!-- 요새 9 -->
                    <tr>
                      <td class="border p-1">9</td>
                      <td class="border p-1">SSR 파편</td>
                      <td class="border p-1">수용량 증가</td>
                      <td class="border p-1">공용 가속</td>
                      <td class="border p-1">피해 증가</td>
                      <td class="border p-1">일반 야성의 표식</td>
                      <td class="border p-1">수용량 증가</td>
                      <td class="border p-1">공용 가속</td>
                      <td class="border p-1">경험치 강화</td>
                    </tr>

                    <!-- 요새 10 -->
                    <tr>
                      <td class="border p-1">10</td>
                      <td class="border p-1">텔레포트</td>
                      <td class="border p-1">SSR 파편</td>
                      <td class="border p-1">수용량 증가</td>
                      <td class="border p-1">스킬북</td>
                      <td class="border p-1">경험치 강화</td>
                      <td class="border p-1">일반 야성의 표식</td>
                      <td class="border p-1">수용량 증가</td>
                      <td class="border p-1">공용 가속</td>
                    </tr>

                    <!-- 요새 11 -->
                    <tr>
                      <td class="border p-1">11</td>
                      <td class="border p-1">공용 가속</td>
                      <td class="border p-1">텔레포트</td>
                      <td class="border p-1">SSR 파편</td>
                      <td class="border p-1">스킬북</td>
                      <td class="border p-1">공용 가속</td>
                      <td class="border p-1">경험치 강화</td>
                      <td class="border p-1">일반 야성의 표식</td>
                      <td class="border p-1">수용량 증가</td>
                    </tr>

                    <!-- 요새 12 -->
                    <tr>
                      <td class="border p-1">12</td>
                      <td class="border p-1">수용량 증가</td>
                      <td class="border p-1">공용 가속</td>
                      <td class="border p-1">텔레포트</td>
                      <td class="border p-1">공용 가속</td>
                      <td class="border p-1">텔레포트</td>
                      <td class="border p-1">공용 가속</td>
                      <td class="border p-1">경험치 강화</td>
                      <td class="border p-1">일반 야성의 표식</td>
                    </tr>

                    <!-- 빈 줄 삽입 -->
                    <tr><td colspan="9" class="border p-1 bg-white h-4"></td></tr>

                    <!-- ✅ 헤더처럼 보이는 행 추가 -->
                    <tr class="bg-orange-100 font-semibold">
                      <td class="border p-1 w-10">성채</td>
                      <td class="border p-1">1주차</td>
                      <td class="border p-1">2주차</td>
                      <td class="border p-1">3주차</td>
                      <td class="border p-1">4주차</td>
                      <td class="border p-1">5주차</td>
                      <td class="border p-1">6주차</td>
                      <td class="border p-1">7주차</td>
                      <td class="border p-1">8주차</td>
                    </tr>

                    <!-- 성채 1 -->
                    <tr>
                      <td class="border p-1">1</td>
                      <td class="border p-1">SSR 파편</td>
                      <td class="border p-1">펫 돌파 재료 상자</td>
                      <td class="border p-1">장비 상자</td>
                      <td class="border p-1">SSR 파편</td>
                      <td class="border p-1">SSR 파편</td>
                      <td class="border p-1">펫 돌파 재료 상자</td>
                      <td class="border p-1">장비 상자</td>
                      <td class="border p-1">SSR 파편</td>
                    </tr>

                    <!-- 성채 2 -->
                    <tr>
                      <td class="border p-1">2</td>
                      <td class="border p-1">불의 수정</td>
                      <td class="border p-1">SSR 파편</td>
                      <td class="border p-1">펫 돌파 재료 상자</td>
                      <td class="border p-1">불의 수정</td>
                      <td class="border p-1">불의 수정</td>
                      <td class="border p-1">SSR 파편</td>
                      <td class="border p-1">펫 돌파 재료 상자</td>
                      <td class="border p-1">불의 수정</td>
                    </tr>

                    <!-- 성채 3 -->
                    <tr>
                      <td class="border p-1">3</td>
                      <td class="border p-1">장비 상자</td>
                      <td class="border p-1">불의 수정</td>
                      <td class="border p-1">SSR 파편</td>
                      <td class="border p-1">펫 돌파 재료 상자</td>
                      <td class="border p-1">장비 상자</td>
                      <td class="border p-1">불의 수정</td>
                      <td class="border p-1">불의 수정</td>
                      <td class="border p-1">펫 돌파 재료 상자</td>
                    </tr>

                    <!-- 성채 4 -->
                    <tr>
                      <td class="border p-1">4</td>
                      <td class="border p-1">펫 돌파 재료 상자</td>
                      <td class="border p-1">장비 상자</td>
                      <td class="border p-1">불의 수정</td>
                      <td class="border p-1">SSR 파편</td>
                      <td class="border p-1">펫 돌파 재료 상자</td>
                      <td class="border p-1">장비 상자</td>
                      <td class="border p-1">SSR 파편</td>
                      <td class="border p-1">SSR 파편</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </details>

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-4">
              <!-- 🛫 이민 시스템 안내 -->
              <details id="detail4" class="bg-white border border-blue-300 rounded-md p-4" open>
                <summary class="cursor-pointer text-lg font-bold text-blue-700 mb-2">🛫 이민 시스템 안내</summary>
                <!-- 서버분류 -->
                <section>
                  <h3 class="font-semibold text-blue-600 mb-1">🔹 서버분류</h3>
                  <ul class="list-disc list-inside text-sm text-gray-700 space-y-1">
                    <li><span class="text-blue-500">일반서버</span><br>
                      - 이민인원: <strong>55</strong> | 특별초대: <strong>최대 3</strong> | 일반초대: <strong>35</strong> | 자유이민: <strong>20 (선착순)</strong>
                    </li>
                    <li><span class="text-red-500">강성서버</span><br>
                      - 이민인원: <strong>30</strong> | 특별초대: <strong>없음</strong> | 일반초대: <strong>20</strong> | 자유이민: <strong>10 (선착순)</strong>
                    </li>
                  </ul>
                </section>

                <!-- 일정 -->
                <section>
                  <h3 class="font-semibold text-blue-600 mb-1">🔹 일정</h3>
                  <ul class="list-disc list-inside text-sm text-gray-700 space-y-1">
                    <li><strong>일 ~ 화</strong>: 이민 전투력 제한 설정 및 이민모집 홍보</li>
                    <li><strong>수 ~ 목</strong>: 초대권 받은 사람들 이동 가능 (특별초대 + 일반초대)</li>
                    <li><strong>금 ~ 토</strong>: <u>UTC 00:00부터</u> 자유이민 시작 (선착순)</li>
                  </ul>
                </section>

                <!-- 용어정리 -->
                <section>
                  <h3 class="font-semibold text-blue-600 mb-1">🔹 용어정리</h3>
                  <ul class="list-disc list-inside text-sm text-gray-700 space-y-1">
                    <li>특별초대: <strong>전투력 제한 없음</strong>, <u>첫 이민 시 3장</u>, <u>월 1장 추가</u>, <strong>최대 3장 보유 가능</strong></li>
                    <li>일반초대: <strong>전투력 제한 범위 내</strong></li>
                  </ul>
                </section>

                <!-- 그 외 -->
                <section>
                  <h3 class="font-semibold text-blue-600 mb-1">🔹 그 외</h3>
                  <ul class="list-disc list-inside text-sm text-gray-700 space-y-1">
                    <li>모든 이민 유형(일반초대, 특별초대, 자유이민) <strong>이민권 필요</strong></li>
                    <li>이민권: <u>연맹상점</u> 또는 <u>패키지 구매</u> 가능</li>
                    <li><strong>병사 해산</strong>: 수요일부터 가능 (프로필 → 부대 → 병사 선택 → 해산)</li>
                    <li>모병소/의무실 병사도 전투력 포함</li>
                    <li>서버전 패배 후 최고집행관이 없다면 이전 집행관이 초대 가능</li>
                    <li><u>특별초대</u>: 수~토 이동 가능 | <u>일반초대</u>: 수/목만 이동 가능</li>
                  </ul>
                </section>

                <h3 class="font-semibold text-green-600">✈️ 이민권 패키지</h3>
                <div class="tblwrap">
                  <table class="table-auto border w-full text-xs text-center">
                    <thead class="bg-orange-100">
                      <tr>
                        <th class="border p-1">금액</th>
                        <th class="border p-1">이민권</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr><td class="border p-1">7,500</td><td class="border p-1">1장</td></tr>
                      <tr><td class="border p-1">15,000</td><td class="border p-1">2장</td></tr>
                      <tr><td class="border p-1">30,000</td><td class="border p-1">3장</td></tr>
                      <tr><td class="border p-1">79,000</td><td class="border p-1">4장</td></tr>
                      <tr><td class="border p-1">149,000</td><td class="border p-1">5장</td></tr>
                    </tbody>
                  </table>
                </div>
                <p class="text-xs text-gray-600">📌 참고 : 149,000 패키지는 <span class="font-semibold text-red-500">최대 15번</span>까지 구매 가능합니다.</p>
              </details>

              <!-- 드래곤 엠페러 -->
              <details class="bg-white border border-blue-300 rounded-md p-4" open>
                <summary class="cursor-pointer text-lg font-bold text-blue-700 mb-2">🐉 프로스트 드래곤 엠페러</summary>
                <section class="bg-white p-4 rounded shadow-md text-sm">
                  <h2 class="text-lg font-bold mb-2">🔹 1단계 : 연맹신청 (월-화, 48h)</h2>
                  <ul class="list-disc list-inside mb-4">
                    <li>해당 서버가 속한 구역 내 연맹단위 참가신청</li>
                    <li>소속 구역별 상위 n위 연맹까지만 참전자격 획득</li>
                    <li>연맹 전투력 기준으로 순위 설정</li>
                    <li>1서버당 참가 연맹 수 제한 없음</li>
                    <li>수요일 리셋 전까지 같은 서버 내 다른 연맹들과 협력하여,<br>
                      참가할 연맹으로 멤버 이동 후 연맹 전투력을 n위 이내로 올린 뒤 대기</li>
                  </ul>

                  <h2 class="text-lg font-bold mb-2">🔹 2단계 : 참전 파견 (수-목, 48h)</h2>
                  <ul class="list-disc list-inside mb-4">
                    <li>1단계 때 해당 연맹에 소속한 멤버만 참전 등록 가능</li>
                    <li>1단계 때 해당 연맹에 없던 멤버는 수요일 가입해도 참전 불가</li>
                    <li>무기공장 참전 구조와 동일</li>
                    <li>목요일 UTC 23:59까지 해당 연맹에서 참전체크 완료되어야 일요일에 전장 입장 가능</li>
                  </ul>

                  <h2 class="text-lg font-bold mb-2">🔹 3단계 : 전장 오픈 (금-일, 59h)</h2>
                  <ul class="list-disc list-inside mb-4">
                    <li>무기공장 매칭 대기 방식과 동일</li>
                    <li>참전자로 확정된 경우, 연맹 이동은 자유</li>
                    <li>일요일에 엠페러 시작 전까지 다시 돌아와야 해당 연맹에서 전장 입장 가능</li>
                  </ul>

                  <h2 class="text-lg font-bold mb-2">🔹 4단계: 전장 오픈 (총 7시간 진행)</h2>
                  <h3 class="text-lg font-semibold text-gray-800 mt-4 mb-1">⚔️ 1. 전장 입장 ＆ 캐슬 쟁탈전</h3>
                  <ul class="list-disc list-inside">
                    <li>전장 개방 후 1시간 뒤 프로스트 드래곤 캐슬 쟁탈전 시작 (총 5시간 진행)</li>
                    <li>첫 점령 성공한 연맹만 ‘첫 점령 보상’ 획득</li>
                    <li>‘수비대장’의 점령시간 계산되며, 해당 랠리의 집결원이라도 점령시간은 포함, 계산되지 않음</li>
                    <li>※ 전장개방(입장가능) : 20:00 KST ( 11:00 UTC )</li>
                  </ul>
                  <p class="text-gray-600 mt-1 ml-4">✅ 랭킹 산정은 수비대장의 점령시간 기준으로 계산됨</p>

                  <h3 class="text-lg font-semibold text-gray-800 mt-4 mb-1">🏛️ 2. 석탑 쟁탈전 (4개)</h3>
                  <ul class="list-disc list-inside">
                    <li>캐슬 주변 4개 석탑에서 동시 쟁탈</li>
                    <li>각 라운드 별로30분 진행 → 30분 보호 상태 후 다음 라운드 반복</li>
                    <li>각 라운드마다 가장 오래 점령한 1개의 연맹에게 30분간 특수 버프 부여</li>
                  </ul>

                  <h3 class="text-lg font-semibold text-gray-800 mt-4 mb-1">🧪 3. 정수 수집 시스템</h3>
                  <ul class="list-disc list-inside">
                    <li>전장 내 용의 정수 수집 몬스터와 프로스트 드래곤 호위병 등장</li>
                    <li>정수 수집 → 호위병 처치 및 채집 시 획득</li>
                  </ul>
                  <p class="text-gray-600 mt-1 ml-4">✅ 연맹원 간 효율적인 역할 분담이 필요</p>

                  <h3 class="text-lg font-semibold text-gray-800 mt-4 mb-1">📘 4. 수집에 유리한 스킬</h3>
                  <ul class="list-disc list-inside">
                    <li>전장에서만 사용 가능한 수정 스킬 존재</li>
                    <li>전투력 강화 효과</li>
                  </ul>

                  <h3 class="text-lg font-semibold text-gray-800 mt-4 mb-1">👑 5. 최종 점령 보상</h3>
                  <ul class="list-disc list-inside">
                    <li>캐슬 점령 시간이 가장 긴 영주에게 전용 엠블럼 + 30일 버프 지급</li>
                    <li>시간이 동일할 경우, 먼저 점령한 쪽이 승리</li>
                  </ul>
                  <p class="text-gray-600 mt-1 ml-4">✅ 1초라도 더 오래 점령한 쪽이 승리</p>
                </section>
              </details>
            </div>

            <!-- 여기에추가해야함 -->

            <!--종점-->
          </div>
        </div>
      </div>
    </div>
    
    <!-- iframe 영역 -->
    <div id="frameWrapper" class="max-w-[1500px] w-full hidden bg-white rounded shadow gap-2">
        <iframe id="mainFrame"
          class="w-full block bg-white"
          style="height: calc(100svh - var(--topbar-h, 180px)); border:0;"
          frameborder="0"></iframe>
    </div>

    <!-- Scroll to Top Button -->
    <button id="scrollToTopBtn"
      class="hidden fixed bottom-6 right-6 z-50 bg-gray-800/60 text-white p-3 rounded-full shadow-lg hover:bg-gray-800/90 transition"
      aria-label="Scroll to top">

      <!-- Up arrow SVG icon -->
      <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
        <path stroke-linecap="round" stroke-linejoin="round" d="M5 15l7-7 7 7" />
      </svg>
    </button>
  </div>
  
  <!-- 카피라이트 -->
  <footer class="text-center text-xs font-bold text-white mt-5 mb-4">⛔ 무단 복제 금지 | © Made By S645 ShinChan(67331703)
    <span id="updateLink"  class="underline cursor-pointer hover:text-white-100 ml-2">업데이트내역</span>
  </footer>
  
	<script>
    function setTopbarHeightVar(){
      const tb = document.querySelector('.topbar');
      if (!tb) return;
      const h = Math.ceil(tb.getBoundingClientRect().height);
      document.documentElement.style.setProperty('--topbar-h', `${h + 16}px`);
    }
    window.addEventListener('load', setTopbarHeightVar);
    window.addEventListener('resize', setTopbarHeightVar);
    window.addEventListener('orientationchange', setTopbarHeightVar);
    
    function updateTableScrollState(){
      document.querySelectorAll('.tblwrap').forEach(w=>{
        const t = w.querySelector('table');
        if (!t) return;

        // 1) 일단 스크롤 꺼놓고
        w.classList.remove('is-scroll');

        // 2) 실제로 넘치면 스크롤 켬
        // (table-layout/줄바꿈 적용 후 판단해야 해서 RAF 한 번)
        requestAnimationFrame(()=>{
          if (t.scrollWidth > w.clientWidth + 1) w.classList.add('is-scroll');
        });
      });
    }

    window.addEventListener('load', updateTableScrollState);
    window.addEventListener('resize', updateTableScrollState);
  </script>
  <script>
  (function () {
    const MIN_INTERVAL = 10000;
    const now = Date.now();
    const last = Number(sessionStorage.getItem("lastLoad") || 0);

    window.DISABLE_ADS = false;

    if (last && now - last < MIN_INTERVAL) window.DISABLE_ADS = true;
    sessionStorage.setItem("lastLoad", now);

    // iframe 안이면 차단
    if (window.top !== window.self) window.DISABLE_ADS = true;

    // file://만 차단 (referrer 없음은 허용 권장)
    if (document.referrer && document.referrer.startsWith("file://")) window.DISABLE_ADS = true;

    if (location.search.length > 200) window.DISABLE_ADS = true;
    if (location.hash.length > 200) window.DISABLE_ADS = true;

    document.addEventListener("visibilitychange", () => {
      if (document.hidden && !window.__ADS_LOADED) {
        window.DISABLE_ADS = true;
      }
    });
  })();
  </script>

  <!-- 콘텐츠 전체 폭 제한 -->
  <div class="max-w-[1200px] mx-auto p-2">
    <!--<div class="grid grid-cols-2 lg:grid-cols-2 gap-2"> -->
      <!-- 광고1 -->
      <div class="flex justify-center">
        <ins id="ad1" class="adsbygoogle"
          style="display:inline-block; width:100%; max-width:300px; height:250px"
          data-ad-client="ca-pub-8205102847358210"
          data-ad-slot="8804962791"></ins>
      </div>
  
      <!-- 광고2
      <div class="flex justify-center">
        <ins id="ad2" class="adsbygoogle"
          style="display:inline-block; width:100%; max-width:300px; height:250px"
          data-ad-client="ca-pub-8205102847358210"
          data-ad-slot="9326856916"></ins>
      </div> -->
    <!--</div>-->
  </div>
	<script>
  (function(){
    if (window.DISABLE_ADS) return;

    let active = false;
    const activate = () => { active = true; };
    ["scroll","click","touchstart","keydown"].forEach(ev =>
      window.addEventListener(ev, activate, { once:true, passive:true })
    );

    function ensureAdsenseLoaded(){
      if (window.__ADS_LOADED) return;
      window.__ADS_LOADED = true;

      const s = document.createElement("script");
      s.src = "https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8205102847358210";
      s.async = true;
      s.crossOrigin = "anonymous";
      document.head.appendChild(s);
    }

    setTimeout(() => {
      if (!active) return;
      ensureAdsenseLoaded();
    }, 5000);
  })();
  </script>
  <script>
  (function(){
    if (window.DISABLE_ADS) return;

    const ids = ["ad1","ad2"];
    const filled = new Set();

    function safePush(){
      try { (adsbygoogle = window.adsbygoogle || []).push({}); } catch {}
    }

    function pushWhenReady(){
      // adsense.js(adsbygoogle)가 아직 준비 안 됐으면, 준비될 때까지 짧게 폴링
      if (!window.adsbygoogle) {
        const t = setInterval(() => {
          if (window.adsbygoogle) {
            clearInterval(t);
            safePush();
          }
        }, 200);

        // 혹시 영원히 안 뜨는 상황 대비(네트워크/차단 등) 안전장치
        setTimeout(() => clearInterval(t), 8000);
        return;
      }
      safePush();
    }

    const obs = new IntersectionObserver((entries)=>{
      entries.forEach(e=>{
        if (!e.isIntersecting) return;
        const el = e.target;
        if (filled.has(el)) return;
        filled.add(el);

        pushWhenReady();
        obs.unobserve(el);
      });
    }, { threshold: 0.25 });

    ids.forEach(id=>{
      const el = document.getElementById(id);
      if (el) obs.observe(el);
    });
  })();
  </script>
  <!-- ✅ 업데이트 내역 팝업 (고정 안내 포함 버전) -->
  <div id="update-modal-backdrop" class="fixed inset-0 z-[1000] hidden">
    <div class="absolute inset-0 bg-black/50"></div>
    <div class="absolute inset-0 flex items-center justify-center p-4">
      <div class="w-full max-w-lg rounded-2xl bg-white shadow-xl dark:bg-[#1f1f1f]">
        <div class="px-6 pt-5 pb-4">
          <h2 class="text-xl font-semibold text-gray-900 dark:text-gray-100">업데이트 내역</h2>
  
          <!-- 🔽 외부 HTML + 고정 안내문이 여기에 주입됨 -->
          <div id="update-content" class="mt-3 text-sm text-gray-700 dark:text-gray-200 max-h-[50vh] overflow-auto">
            <div class="text-gray-500 dark:text-gray-400">불러오는 중…</div>
          </div>
        </div>
  
        <div class="flex items-center justify-between border-t border-gray-200 px-6 py-3 dark:border-gray-700">
          <label class="flex items-center gap-2 text-sm text-gray-700 dark:text-gray-200 select-none">
            <input id="update-hide-today" type="checkbox" class="h-4 w-4 rounded border-gray-300 dark:border-gray-500">
            오늘 하루 그만보기
          </label>
          <div class="flex items-center gap-3">
            <!-- ✅ 업데이트 히스토리 (라벨) -->
            <label id="update-history" role="button" tabindex="0" class="cursor-pointer text-sm underline underline-offset-4 text-blue-400 hover:opacity-90">
              업데이트 히스토리
            </label>
            
            <button id="update-confirm" class="rounded-lg px-4 py-2 text-white bg-blue-600 hover:bg-blue-700">확인</button>
          </div>
        </div>
      </div>
    </div>
  </div>
  <script>
    //메뉴동작
    const dropdowns = [...document.querySelectorAll('[data-dd]')];

    function setOpen(dd, open){
      const btn = dd.querySelector('.dd-btn');
      dd.classList.toggle('open', open);
      btn?.setAttribute('aria-expanded', open ? 'true' : 'false');
    }

    function closeAll(except = null){
      dropdowns.forEach(d => {
        if (d === except) return;
        setOpen(d, false);
      });
    }

    dropdowns.forEach(dd => {
      const btn = dd.querySelector('.dd-btn');

      const canHover = window.matchMedia && window.matchMedia('(hover: hover)').matches;

      // 1) Hover 시 열기 (터치 디바이스에서는 비활성)
      if (canHover) {
        dd.addEventListener('mouseenter', () => {
          closeAll(dd);
          setOpen(dd, true);
        });
      }

      // 3) Click 토글
      btn.addEventListener('click', (e) => {
        e.stopPropagation();
        const isOpen = dd.classList.contains('open');
        if (isOpen) {
          setOpen(dd, false);
        } else {
          closeAll(dd);
          setOpen(dd, true);
        }
      });

      // 메뉴 클릭은 바깥클릭으로 닫히지 않게
      dd.querySelector('.dd-menu')?.addEventListener('click', (e) => {
        e.stopPropagation();
      });
    });

    // 바깥 클릭 -> 닫기
    document.addEventListener('click', () => closeAll());

    // ESC -> 닫기
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') closeAll();
    });
  </script>
  <script>
    //위로 스크롤 버튼
    const scrollToTopBtn = document.getElementById("scrollToTopBtn");

    window.addEventListener("scroll", () => {
      if (window.scrollY > 200) {
        scrollToTopBtn.classList.remove("hidden");
      } else {
        scrollToTopBtn.classList.add("hidden");
      }
    });

    scrollToTopBtn.addEventListener("click", () => {
      window.scrollTo({ top: 0, behavior: "smooth" });
    });
  </script>
  <script>
    //메뉴변경
    const content = document.getElementById('content');
    
    document.querySelectorAll('.dd-item[data-load]').forEach(item => {
      item.addEventListener('click', async (e) => {
        e.preventDefault();

        const url = item.dataset.load;
        if (!url) return;

        try {
          const res = await fetch(url);
          if (!res.ok) throw new Error('Load failed');

          const html = await res.text();
          content.innerHTML = html;

          // ✅ active 처리
          document.querySelectorAll('.dd-item.active')
            .forEach(x => x.classList.remove('active'));
          item.classList.add('active');

          // ✅ 메뉴 닫기
          document.querySelectorAll('.dd.open')
            .forEach(d => d.classList.remove('open'));

        } catch (err) {
          content.innerHTML = `<p style="color:red">불러오기 실패</p>`;
          console.error(err);
        }
      });
    });
  </script>
  <script>
    //메뉴선택표시
    let guideDetails = document.getElementById("guideDetails");
    let frameWrapper = document.getElementById('frameWrapper');
    let mainFrame = document.getElementById('mainFrame');
    
    // 공통: 메뉴 닫기
    function closeAllMenus(){
      document.querySelectorAll('.dd.open').forEach(dd => dd.classList.remove('open'));
    }
    
    window.addEventListener("message", function (event) {
      
      if (event.data.type === "SET_FRAME_SIZE") {
        const frame = document.getElementById("mainFrame");
        frame.style.height = event.data.height;
      }

      if (event.data.type === "FRAME_CHANGE") {
        const frame = document.getElementById("mainFrame");
        frame.style.height = `${event.data.height + 10}px`;
      }
    });
    
    document.querySelectorAll('.dd-item[data-frame]').forEach(item => {
      item.addEventListener('click', (e) => {
        e.preventDefault();

        const url = item.dataset.frame;
        if (!url) return;
                
        // ✅ iframe 보이게
        guideDetails.classList.add('hidden');
        frameWrapper.classList.remove('hidden');

        // ✅ iframe 로드
        mainFrame.src = url;

        // ✅ active 표시
        document.querySelectorAll('.dd-item.active').forEach(x => x.classList.remove('active'));
        item.classList.add('active');

        // ✅ 메뉴 닫기
        closeAllMenus();
      });
    });
  </script>  
  <script>
    //Home 메뉴
    function ReturnHome() {
      // 공통: 메뉴 닫기
      document.querySelectorAll('.dd.open').forEach(dd => dd.classList.remove('open'));
      document.querySelectorAll('.dd-item.active').forEach(x => x.classList.remove('active'));
      document.querySelectorAll('.dd-btn').forEach(btn => {
        btn.addEventListener('click', (e) => {
          e.preventDefault();
          e.stopPropagation();
          
          // 1) 열려있는 모든 메뉴 닫기
          document.querySelectorAll('.dd.open').forEach(dd => dd.classList.remove('open'));
          
          // 2) guideDetails 보이기
          document.getElementById("guideDetails")?.classList.remove('hidden');
          
          // 3) frameWrapper 숨기기
          document.getElementById('frameWrapper')?.classList.add('hidden');
        });
      });
    }
  </script>
  <script>
    //업뎃히스토리
    document.addEventListener("DOMContentLoaded", () => {
      // 필요 경로를 여기에 각기 다르게 설정하세요.
      const UPDATE_URL  = "https://s574shinchan.github.io/WOS_Calc/data/update/history.html"; // 기존과 동일
      const FAQ_URL     = "/FAQ.html";       // 예: S3/CloudFront 루트의 faq.html
      const PRIVACY_URL = "/privacy.html";   // 예: 루트의 privacy.html (새 탭)
    
      const guide   = document.getElementById("guideDetails");
      const wrapper = document.getElementById("frameWrapper");
      const frame   = document.getElementById("mainFrame");
    
      // iframe 로더 (guide 숨기고 frame 표시)
      function openInFrame(url) {
        if (guide)   guide.style.display   = "none";
        if (wrapper) wrapper.style.display = "block";
        if (frame) {
          frame.style.height = "300px"; // 초기값(필요시 조정)
          frame.src = url;
        }
      }
    
      // 업데이트 내역 → iframe 로드 (기존 요구사항)
      const updateLink = document.getElementById("updateLink");
      if (updateLink) {
        updateLink.addEventListener("click", (e) => {
          e.preventDefault();
          openInFrame(UPDATE_URL + "?v=" + Date.now());
        });
      }
    
      // FAQ → iframe 로드 (업데이트와 동일 방식)
      const faqLink = document.getElementById("faqLink");
      if (faqLink) {
        faqLink.addEventListener("click", (e) => {
          e.preventDefault();
          openInFrame(FAQ_URL);
        });
      }
    
      // 개인정보 처리방침 → 새 탭
      const privacyLink = document.getElementById("privacyLink");
      if (privacyLink) {
        privacyLink.addEventListener("click", (e) => {
          e.preventDefault();
          const win = window.open(PRIVACY_URL, "_blank", "noopener");
          if (win) { win.opener = null; } // 보안
          else { window.location.href = PRIVACY_URL; } // 팝업 차단 대비
        });
      }
    
      // (선택) 자식 페이지가 높이를 알려오면 iframe 높이 자동 맞춤
      if (!window.__childHeightListenerBound) {
        window.addEventListener("message", (e) => {
          if (!e.data) return;
          
          if (e.data.type === "childHeight") {
            if (frame) frame.style.height = Math.max(700, e.data.height) + "px";
          }
          
          if (e.data.type === "FRAME_CHANGE") {
            if (frame) frame.style.height = Math.max(700, Number(e.data.height) || 0) + "px";
          }
        });
        
        window.__childHeightListenerBound = true;
      }
    });
  </script>
  <script>
    //성급업 계산
    (() => {
      // ▼ 최초모집(미실시 가정) 비용
      const RECRUIT_COST = 10;

      // ▼ tier0~tier6 이미지 (7장) — 필요 시 경로 교체
      const TIER_IMG = (n) => `images/tier${n}.webp`;

      const TABLE_SEL = "#hero-upgrade-table";
      const OUT_SEL   = "#hero-shard-strip";
      const n = (s) => { const v = parseInt(String(s).replace(/[^0-9-]/g,""), 10); return Number.isFinite(v) ? v : 0; };

      // 표에서 5행×6칸 숫자 행렬 추출 (1성~5성, 각 6칸)
      function readMatrixFromTable() {
        const table = document.querySelector(TABLE_SEL);
        if (!table) throw new Error("표를 찾지 못했습니다: " + TABLE_SEL);
        const bodyRows = Array.from(table.querySelectorAll("tbody tr"));
        if (bodyRows.length < 5) throw new Error("표 행 개수가 부족합니다(5행 필요).");

        // 셀 인덱스: 0=등급, 1..6=칸, 마지막=SubTotal
        const COL_START = 1, COL_END = 6;

        return bodyRows.slice(0, 5).map(tr => {
          const cells = tr.querySelectorAll("td");
          const row = [];
          for (let c = COL_START; c <= COL_END; c++) {
            row.push(n(cells[c]?.textContent || "0"));
          }
          return row; // 길이 6
        });
      }

      // 누적 변환 (예: [1,1,2,2,2,12] → [1,2,4,6,8,20])
      const cum = (arr) => { const out=[]; let s=0; for (const v of arr){ s+=v; out.push(s); } return out; };

      // ✅ 이미지/문구 토글 (티어 스트립 영역)
      function toggleTierGallery(showImages, message = "") {
        const box = document.querySelector(OUT_SEL);
        const fb  = document.getElementById("tierFallback"); // 대체문구 요소 (필수)
        if (!box) return;

        if (showImages) {
          // 이미지 영역 표시
          box.classList.remove("hidden"); box.style.display = "";
          if (fb) { fb.classList.add("hidden"); fb.style.display = "none"; fb.textContent = ""; }
        } else {
          // 이미지 전부 제거 + 영역 숨김, 문구 표시
          box.innerHTML = "";
          box.classList.add("hidden"); box.style.display = "none";
          if (fb) { fb.classList.remove("hidden"); fb.style.display = ""; fb.textContent = message || "※ 최초모집시 10개의 조각이 필요합니다."; }
        }
      }

      // ✓ 카드/유닛 이미지/안내문 토글 (있으면 사용, 없으면 무시)
      function toggleRecruitUI({ showImage }) {
        const img  = document.getElementById('unitImage');        // 카드/유닛 이미지 요소(옵션)
        const hint = document.getElementById('firstRecruitHint'); // 안내문 요소(옵션)
        if (!img && !hint) return;

        if (showImage) {
          if (img)  { img.classList.remove('hidden'); img.style.display = ''; }
          if (hint) { hint.textContent = ''; }
        } else {
          if (img)  { img.classList.add('hidden'); img.style.display = 'none'; }
          if (hint) { hint.textContent = '※ 최초모집시 10개의 조각이 필요합니다.'; }
        }
      }

      // 조각 수를 1성→5성 순으로 소모하여 각 행의 tier(0..6) 계산
      // ▶ 최초모집이 '미실시' 가정: have < RECRUIT_COST이면 모두 0
      function computeTiers(pieces) {
        const have = Math.max(0, n(pieces));
        const tiers = new Array(5).fill(0);
        if (have < RECRUIT_COST) return tiers;

        const matrix = readMatrixFromTable(); // 5×6
        let remain = have - RECRUIT_COST;
        if (remain <= 0) return tiers;

        for (let r = 0; r < 5; r++) {
          const cums = cum(matrix[r]); // [c1, c1+c2, ...]
          let t = 0; // 0..6
          for (let k = 0; k < 6; k++) {
            if (remain >= cums[k]) t = k + 1; else break;
          }
          tiers[r] = t;

          const rowTotal = cums[5];
          if (remain >= rowTotal) {
            remain -= rowTotal; // 전부 채웠으면 다음 행으로 carry
          } else {
            break; // 부분만 채웠으면 이후 행은 진행하지 않음
          }
        }
        return tiers;
      }

      // 이미지 5장 렌더
      function renderTiers(tiers) {
        const box = document.querySelector(OUT_SEL);
        if (!box) return;
        box.innerHTML = "";
        tiers.forEach(t => {
          const img = document.createElement("img");
          img.src = TIER_IMG(t);
          img.alt = `tier${t}`;
          box.appendChild(img);
        });
      }

      // 공개 API: 조각 수를 넘기면 즉시 갱신
      window.updateHeroShardState = function(pieces) {
        try {
          const have = Math.max(0, n(pieces));

          // ⛳ 0~9면: 티어 이미지 6개(=띠 전체) 숨기고 문구만
          if (have < RECRUIT_COST) {
            toggleRecruitUI({ showImage: false });
            toggleTierGallery(false, "※ 최초모집시 10개의 조각이 필요합니다.");
            return;
          }

          // 10 이상: 이미지 영역 보이기 → 계산/렌더
          toggleRecruitUI({ showImage: true });
          toggleTierGallery(true);

          const tiers = computeTiers(have);
          renderTiers(tiers);
        } catch (err) {
          const box = document.querySelector(OUT_SEL);
          if (box) box.textContent = "오류: " + err.message;
          console.error(err);
        }
      };

      // 입력 이벤트
      const $input = document.getElementById("pieceInput");
      $input.addEventListener("input", e => {
        let val = parseInt(e.target.value || "0", 10);
        if (val > 1075) {
          val = 1075;
          e.target.value = val; // 입력란을 즉시 1075로 되돌림
        } else if (val < 0 || isNaN(val)) {
          val = 0;
          e.target.value = val;
        }
        updateHeroShardState(val); // 계산 반영
      });
      $input.addEventListener("keydown", e => { if (e.key === "Enter") updateHeroShardState($input.value); });

      // 초기 표시(기본값 0 → 문구만 표시)
      updateHeroShardState($input.value);
    })();
  </script>
  <script>
    //uuid 복사
    let copyTimer = null;

    function copySupportNumber() {
      const text = document.getElementById("supportNumber").innerText.trim();
      navigator.clipboard.writeText(text);

      const toast = document.getElementById("toast");
      const iconBook = document.getElementById("iconBook");
      const iconCheck = document.getElementById("iconCheck");

      iconBook.classList.add("hidden");
      iconCheck.classList.remove("hidden");

      toast.classList.remove("opacity-0");
      toast.classList.add("opacity-100");

      clearTimeout(window.__toastTimer);
      window.__toastTimer = setTimeout(() => {
        toast.classList.remove("opacity-100");
        toast.classList.add("opacity-0");

        iconCheck.classList.add("hidden");
        iconBook.classList.remove("hidden");
      }, 1300);
    }

  </script>
  <script>
    //다크모드
    function broadcastDarkMode(isDark) {
      document.querySelectorAll('iframe').forEach(frame => {
        try {
          frame.contentWindow.postMessage({ type: 'DARK_MODE', value: isDark },'*');
        } catch (e) {}
      });
    }
    
    function applySavedDarkMode() {
			// ✅ 기본값을 다크모드로 (처음 방문/저장값 없을 때)
			const saved = localStorage.getItem('darkMode');
			const isDark = (saved === null) ? true : (saved === 'true');

			document.body.classList.toggle('dark-mode', isDark);
			
			// ✅ 버튼 아이콘도 즉시 맞춰주기 (페이지 처음 로드 때)
			const btn = document.getElementById('DarkMode');
			if (btn) btn.textContent = isDark ? '🌙' : '☀️';
			
			// ✅ 최초 접속이면 저장도 해둬서 다음에도 유지
			if (saved === null) localStorage.setItem('darkMode', 'true');
			broadcastDarkMode(isDark);
		}
    
    function ActiveDarkMode(){
      const isDark = document.body.classList.toggle('dark-mode');      
      const btn = document.getElementById('DarkMode');
      
      if (btn) btn.textContent = isDark ? '🌙' : '☀️';
      
      localStorage.setItem('darkMode', isDark ? 'true' : 'false');
      broadcastDarkMode(isDark);
    }
    
    // ✅ 페이지 로드되면 바로 적용 (새로고침 포함)
    document.addEventListener('DOMContentLoaded', applySavedDarkMode);
		
		document.getElementById('mainFrame').addEventListener('load', () => {
      const isDark = localStorage.getItem('darkMode') === 'true';
      const btn = document.getElementById('DarkMode');
      
      if (btn) btn.textContent = isDark ? '🌙' : '☀️';
      
      broadcastDarkMode(isDark);
    });
  </script>
  <script>
    //자료모음 detail
    const baseUrl = 'https://s574shinchan.github.io/WOS_Calc/data/';
    //const baseUrl = './data/';
    
    // [ID] => [파일명] 매핑
    const fileMap = {
      용어안내: 'ward.html',
      전용무기: '전용무기.html',
      미스릴: '미스릴.html',
      커스텀상자: 'custompakage.html',
      커스텀무기: '커스텀무기.html',            
      보석마스터: 'gempakage.html',
      보석비전: 'visionpakage.html',
      장인보물창고보석: '보물창고_보석.html',
      장인보물창고장비: '보불창고_장비.html',
      여행자팩 : '여행자팩.html',
      만물잡화 : '만물잡화점.html',
    };
    
    // [ID] => 로딩 여부 저장
    const loadState = {};
    Object.keys(fileMap).forEach(id => loadState[id] = false);
    
    // 모든 <details> 요소에 toggle 이벤트 바인딩
    document.querySelectorAll('details').forEach(detail => {
      detail.addEventListener('toggle', async () => {
        for (const id in fileMap) {
          const target = detail.querySelector(`#${id}`);
          if (target && !loadState[id] && detail.open) {
            try {
              const res = await fetch(`${baseUrl}${fileMap[id]}`);
              if (!res.ok) throw new Error('파일 요청 실패');
              const html = await res.text();
              target.innerHTML = html;
              loadState[id] = true;
            } catch (e) {
              target.innerHTML = `<p class="text-red-500">⚠️ 테이블 데이터를 불러오는 데 실패했습니다.</p>`;
            }
          }
        }
      });
    });
  </script>
  <script>
    //언어선택
    function setupLangSelect(id) {
      const el = document.getElementById(id);
      if (el) {
        el.addEventListener('change', function () {
          const langCode = this.value; // 예: index_en.html
          const lang = (langCode.split('_')[1]?.split('.')[0] || 'ko').toUpperCase();
          localStorage.setItem('lang', lang);
          window.location.href = langCode;
        });
      }
    }
  
    setupLangSelect('langSelectMobile');
    setupLangSelect('langSelectPC');
  </script>  
  <script>
    // F12, Ctrl+Shift+I, Ctrl+U 등 방지
    document.onkeydown = function (e) {
      if (
        e.keyCode === 123 || // F12
        (e.ctrlKey && e.shiftKey && e.keyCode === 73) || // Ctrl+Shift+I
        (e.ctrlKey && e.shiftKey && e.keyCode === 74) || // Ctrl+Shift+J
        (e.ctrlKey && e.keyCode === 85) // Ctrl+U
      ) {
        e.preventDefault();
        return false;
      }
    };
  
    // 우클릭 방지
    document.addEventListener("contextmenu", (e) => e.preventDefault());
  </script>
  <script>
    // ✅ 공용 함수: iframe 로드 + 메뉴/프레임 표시 전환
    window.loadInMainFrame = function(url){
      // 메뉴 숨기고, 결과 프레임 표시
      guideDetails?.classList.add('hidden');
      frameWrapper?.classList.remove('hidden');

      // ✅ 상대/절대 어떤 게 와도 안전 처리
      const resolved = new URL(url, window.location.href).href;

      console.log('[index] loadInMainFrame:', { url, resolved });

      // 같은 URL이면 리로드 강제
      const cur = mainFrame.getAttribute('src') || '';
      if (cur === resolved) {
        mainFrame.src = 'about:blank';
        setTimeout(() => (mainFrame.src = resolved), 30);
      } else {
        mainFrame.src = resolved;
      }
    };

    window.goBackToMenu = function(){
      mainFrame.src = 'about:blank';
      frameWrapper?.classList.add('hidden');
      guideDetails?.classList.remove('hidden');
    };

    // ✅ a.html(자식)에서 보내는 메시지 수신
    window.addEventListener('message', (e) => {
      // 로컬 테스트에서는 origin이 같음
      // 실서비스에서는 e.origin 검증 권장
      console.log('[index] message received:', e.data, 'origin:', e.origin);

      if (e.data?.type === 'NAVIGATE_FRAME') {
        // e.data.url: 예) "research.html"
        window.loadInMainFrame(e.data.url);
      }

      // ✅ 자식 페이지가 자신의 높이를 보내면 mainFrame 높이 자동 조절
      if (e.data?.type === 'FRAME_CHANGE' && typeof e.data.height === 'number') {
        mainFrame.style.height = `${e.data.height}px`;
      }
    });
  </script>
  <script>
    //이미지 모달
    let currentScale = 1;
    const modal = document.getElementById('imageModal');
    const modalImg = document.getElementById('modalImage');
  
    window.addEventListener('message', (event) => {
      if (event.data.type === 'SHOW_IMAGE_MODAL') {
        modalImg.src = event.data.url;
        currentScale = 1;
        modalImg.style.scale = currentScale;
        modal.classList.remove('hidden');
      }
    });
  
    modalImg.addEventListener('wheel', (e) => {
      e.preventDefault();
      currentScale += (e.deltaY < 0 ? 0.05 : -0.05);
      currentScale = Math.max(0.1, Math.min(3, currentScale));
      modalImg.style.scale = currentScale;
    });
  
    modal.addEventListener('click', (e) => {
      if (e.target === modal) {
        modal.classList.add('hidden');
        modalImg.src = '';
      }
    });
  </script>
  <script>
    //업데이트 내용 팝업
    (function () {
      const MIN_INTERVAL = 3000; // 3초
      const now = Date.now();
      const last = Number(sessionStorage.getItem("lastLoad") || 0);

      // 기본값: 광고 허용
      window.DISABLE_ADS = false;

      // 1️⃣ 새로고침 / 연속 접속 폭주 방지
      if (last && now - last < MIN_INTERVAL) {
        window.DISABLE_ADS = true;
      }
      sessionStorage.setItem("lastLoad", now);

      // 2️⃣ iframe 안에서 열리면 광고 차단
      if (window.top !== window.self) {
        window.DISABLE_ADS = true;
      }

      // 3️⃣ 비정상 referrer (file://, 없음)
      if (!document.referrer || document.referrer.startsWith("file://")) {
        window.DISABLE_ADS = true;
      }

      // 4️⃣ 백그라운드 탭이면 광고 차단
      document.addEventListener("visibilitychange", () => {
        if (document.hidden) {
          window.DISABLE_ADS = true;
        }
      });
    })();
  </script>
  <script>
    //업데이트 내역ㅍ표시
    (() => {
      // =========[ 설정 ]=========
      const BASE_PATH = "/data/update"; // 월별 HTML이 있는 경로
      const LOOKBACK_MONTHS = 6;
      const HIDE_MS = 24 * 60 * 60 * 1000; // 24시간
    
      // ✅ 월 상관없이 항상 표시할 고정 안내문 (HTML 가능)
      const fixedNotice = `
        <div class="border-t border-gray-300 mt-4 pt-2 text-[13px] text-gray-600 dark:text-gray-400">
          ※ 계산기 작동 방식이 변경되었습니다.<br>
          현재레벨과 목표레벨 선택 시 자동으로 개별소계가 계산되며,<br>
          하단에는 자동으로 총합계가 계산됩니다.
        </div>
      `;
    
      const backdrop  = document.getElementById("update-modal-backdrop");
      const contentEl = document.getElementById("update-content");
      const confirmBtn = document.getElementById("update-confirm");
      const checkbox = document.getElementById("update-hide-today");
      const historyLabel = document.getElementById("update-history"); // ✅ 추가: '업데이트 히스토리' 라벨
    
      const lockScroll   = () => { document.documentElement.style.overflow = "hidden"; };
      const unlockScroll = () => { document.documentElement.style.overflow = ""; };
    
      function ymStr(date) {
        const y = date.getFullYear();
        const m = String(date.getMonth() + 1).padStart(2, "0");
        return `${y}-${m}`;
      }
    
      function monthsAgo(date, n) {
        const d = new Date(date);
        d.setMonth(d.getMonth() - n);
        return d;
      }
    
      function storageKeyForYM(ym) {
        return `ModalHideUntil`;
      }
    
      function shouldShowForKey(key) {
        try {
          const until = localStorage.getItem(key);
          if (!until) return true;
          return Date.now() >= parseInt(until, 10);
        } catch {
          return true;
        }
      }
    
      function openModal() {
        backdrop.classList.remove("hidden");
        lockScroll();
        confirmBtn?.focus();
        document.addEventListener("keydown", onKeydown);
      }
    
      function closeModal() {
        backdrop.classList.add("hidden");
        unlockScroll();
        document.removeEventListener("keydown", onKeydown);
      }
    
      function onKeydown(e) {
        if (e.key === "Escape") closeModal();
      }
    
      async function loadMonthlyHTML() {
        const now = new Date();
        for (let i = 0; i < LOOKBACK_MONTHS; i++) {
          const ym = ymStr(monthsAgo(now, i));
          const url = `${BASE_PATH}/${ym}.html`;
          try {
            const res = await fetch(url, { cache: "no-cache" });
            if (!res.ok) continue;
            const html = await res.text();
            const trimmed = html.replace(/\s+/g, "");
            if (!trimmed) continue;
            return { html, ym };
          } catch (e) { continue; }
        }
        return { html: null, ym: null };
      }
    
      (async function init() {
        const { html, ym } = await loadMonthlyHTML();
    
        if (!html) {
          contentEl.innerHTML = `<div class="text-gray-500 dark:text-gray-400">표시할 업데이트 내역이 없습니다.</div>${fixedNotice}`;
          return;
        }
    
        // ✅ 월별 내용 + 고정 안내문 함께 표시
        contentEl.innerHTML = html + fixedNotice;
    
        const STORAGE_KEY = storageKeyForYM(ym);
        if (shouldShowForKey(STORAGE_KEY)) {
          openModal();
    
          // 확인 버튼: (체크시) 24시간 숨김 저장 후 닫기
          confirmBtn.addEventListener("click", () => {
            if (checkbox?.checked) {
              localStorage.setItem(STORAGE_KEY, String(Date.now() + HIDE_MS));
            }
            closeModal();
          }, { once: true });
    
          // ✅ 업데이트 히스토리 라벨: (체크시) 24시간 숨김 저장 → 닫기 → index의 #updateLink 클릭
          const triggerUpdateLink = () => {
            const target = document.getElementById("updateLink");
            if (!target) return;
            try {
              target.dispatchEvent(new MouseEvent("click", { bubbles: true, cancelable: true, view: window }));
            } catch {
              target.click();
            }
            target.scrollIntoView?.({ behavior: "smooth", block: "center" });
            target.focus?.({ preventScroll: true });
          };
    
          const handleHistoryAction = () => {
            try {
              if (checkbox?.checked) {
                localStorage.setItem(STORAGE_KEY, String(Date.now() + HIDE_MS));
              }
            } catch {}
            closeModal();
            setTimeout(triggerUpdateLink, 30);
          };
    
          historyLabel?.addEventListener("click", (e) => { e.preventDefault(); handleHistoryAction(); });
          historyLabel?.addEventListener("keydown", (e) => {
            if (e.key === "Enter" || e.key === " ") { e.preventDefault(); handleHistoryAction(); }
          });
        }
      })();
    })();
  </script>
  <script>
    window.addEventListener("message", function (event) {
      console.log("받음:", event.data);

      if (event.data.type === "History") {        
        const frame = document.getElementById("mainFrame");
        console.log("frame", frame);
        frame.style.height = `${event.data.height + 10}px`;
      }
    });
  </script>
  
  <script>
    // ===== Mobile drawer controls =====
    (function(){
      const btn = document.getElementById('mobileMenuBtn');
      const drawer = document.getElementById('mobileDrawer');
      const closeEls = drawer ? drawer.querySelectorAll('[data-close-drawer]') : [];

      function openDrawer(){ if (!drawer) return; drawer.classList.remove('hidden'); document.body.style.overflow = 'hidden'; }
      function closeDrawer(){ if (!drawer) return; drawer.classList.add('hidden'); document.body.style.overflow = ''; }

      btn?.addEventListener('click', (e)=>{ e.preventDefault(); openDrawer(); });
      closeEls.forEach(el => el.addEventListener('click', (e)=>{ e.preventDefault(); closeDrawer(); }));

      // ESC to close
      document.addEventListener('keydown', (e)=>{ if (e.key === 'Escape') closeDrawer(); });

      // Close drawer after selecting a frame link
      drawer?.addEventListener('click', (e)=>{
        const a = e.target.closest('a.dd-item[data-frame]');
        if (a) closeDrawer();
      });

      // Home button
      document.getElementById('mobHomeBtn')?.addEventListener('click', ()=>{
        try {
          // show guide
          document.getElementById('guideDetails')?.classList.remove('hidden');
          document.getElementById('frameWrapper')?.classList.add('hidden');
          document.querySelectorAll('.dd-item.active').forEach(x => x.classList.remove('active'));
        } catch {}
        closeDrawer();
      });

      // Shortcuts
      document.getElementById('mobRequestBtn')?.addEventListener('click', ()=>{ window.open('https://open.kakao.com/o/suX41pYg','_blank'); closeDrawer(); });
      document.getElementById('mobConsultBtn')?.addEventListener('click', ()=>{ window.open('https://open.kakao.com/o/sUPPaqqh','_blank'); closeDrawer(); });
      document.getElementById('mobDonateBtn')?.addEventListener('click', ()=>{ window.open('https://buymeacoffee.com/shin0825','_blank'); closeDrawer(); });

      // Dark mode toggle (reuse existing)
      document.getElementById('DarkModeMobile')?.addEventListener('click', ()=>{ try{ ActiveDarkMode(); }catch{} closeDrawer(); });

      // Language select (mobile)
      const langMob = document.getElementById('langSelectMobile');
      if (langMob) {
        langMob.addEventListener('change', ()=>{
          const v = langMob.value;
          if (v) window.location.href = v;
        });
      }

      // Keep mobile lang select in sync with PC
      const langPC = document.getElementById('langSelectPC');
    })();
  </script>

</body>
</html>
